(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[70],{763:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n(63),s=n.n(r),a=n(112),c=n(48),o=n(623),i=n(1),u=n.n(i),d=n(113),l=n(626),j=n(83),b=n(11);function h(e){var t=e.showModal,n=e.setShowModal,r=e.adjustAmount,s=e.setAdjustAmount,a=e.submitAdjust;return Object(b.jsx)("div",{className:"delete_modal_box",children:Object(b.jsxs)(o.eb,{show:t,onClose:n,children:[Object(b.jsx)(o.hb,{closeButton:!0,children:"Adjust Inventory"}),Object(b.jsxs)(o.fb,{className:"delete_modal_body",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"",children:"Add/Subtract Quantity"}),Object(b.jsx)("input",{type:"text",value:r,onChange:function(e){return s(e.target.value)},className:"form-control"})]})})}),Object(b.jsx)("button",{type:"submit",onClick:function(){return a()},className:"col-12 btn btn-secondary mb-5",children:"Submit"})]})]})})}function f(){var e=u.a.useContext(j.b),t=e.user,n=e.setLoad,r=u.a.useState([]),i=Object(c.a)(r,2),f=i[0],m=i[1],p=u.a.useState(!1),x=Object(c.a)(p,2),v=x[0],O=x[1],y=u.a.useState(""),k=Object(c.a)(y,2),w=k[0],A=k[1],_=u.a.useState(""),g=Object(c.a)(_,2),S=g[0],N=g[1];return u.a.useEffect((function(){function e(){return(e=Object(a.a)(s.a.mark((function e(){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d.d+"inventoryList",{method:"GET",headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 2:if(!0!==(r=e.sent).ok){e.next=9;break}return e.next=6,r.json();case 6:a=e.sent,n(!1),200===a.status?(console.log("inventory",a),m(a.inventory_list)):l.b.error(a.message);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(!0),function(){e.apply(this,arguments)}()}),[]),Object(b.jsxs)("section",{children:[Object(b.jsx)(l.a,{}),Object(b.jsx)(h,{showModal:v,setShowModal:O,adjutAmount:S,setAdjustAmount:N,submitAdjust:function(){n(!0);var e=new FormData;function r(){return(r=Object(a.a)(s.a.mark((function r(){var c,o,i;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(d.d+"edit/inventory/"+w,{method:"POST",headers:{Authorization:t.token},body:e});case 2:if(1!=(c=r.sent).ok){r.next=9;break}return r.next=6,c.json();case 6:o=r.sent,n(!1),200==o.status?(i=function(){var e=Object(a.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d.d+"inventoryList",{method:"GET",headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 2:if(!0!==(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:200===(r=e.sent).status?m(r.inventory_list):l.b.error(r.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A(""),N(""),O(!1),i()):l.b.error(o.message);case 9:case"end":return r.stop()}}),r)})))).apply(this,arguments)}e.append("new_qty",S),function(){r.apply(this,arguments)}()}}),Object(b.jsx)(o.u,{xs:"12",lg:"12",children:Object(b.jsx)(o.j,{children:Object(b.jsx)(o.k,{children:Object(b.jsx)(o.y,{items:f,fields:["#","product_name","available_qty","action"],columnFilter:!0,tableFilter:!0,itemsPerPageSelect:!0,itemsPerPage:5,hover:!0,sorter:!0,pagination:!0,scopedSlots:{"#":function(e,t){return Object(b.jsx)("td",{children:t+1})},product_name:function(e){return Object(b.jsx)("td",{children:e.product_name})},available_qty:function(e){return Object(b.jsx)("td",{children:e.total_qty})},action:function(e){return Object(b.jsx)("td",{children:Object(b.jsx)("i",{style:{cursor:"pointer"},onClick:function(){return function(e){A(e),O(!0)}(e.id)},class:"fa fa-pencil","aria-hidden":"true"})})}}})})})})]})}}}]);
//# sourceMappingURL=70.f2cfe8aa.chunk.js.map