(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[81],{742:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return m}));var n=s(63),r=s.n(n),a=s(112),c=s(48),l=s(1),i=s.n(l),o=s(626),u=s(113),d=s(83),j=s(631),b=s(11);function m(){var e=i.a.useContext(d.b),t=e.user,s=e.setLoad,n=i.a.useState(""),l=Object(c.a)(n,2),m=l[0],p=l[1],h=i.a.useState(""),f=Object(c.a)(h,2),x=f[0],O=f[1],v=i.a.useState(""),g=Object(c.a)(v,2),w=g[0],y=g[1],T=i.a.useState(""),C=Object(c.a)(T,2),k=C[0],P=C[1],S=i.a.useState(""),N=Object(c.a)(S,2),A=N[0],_=N[1],L=i.a.useState(""),M=Object(c.a)(L,2),R=M[0],q=M[1],F=i.a.useState([]),U=Object(c.a)(F,2),V=U[0],D=U[1],I=i.a.useState(""),z=Object(c.a)(I,2),E=z[0],J=z[1];return i.a.useEffect((function(){function e(){return(e=Object(a.a)(r.a.mark((function e(){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u.d+"clientlist",{headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 2:if(!0!==(n=e.sent).ok){e.next=11;break}return e.next=6,n.json();case 6:a=e.sent,s(!1),200==a.status?D(a.client_list.map((function(e){return{value:e.id,label:e.name}}))):o.b.error(a.message),e.next=12;break;case 11:o.b.error("Oops something went wrong!");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s(!0),function(){return e.apply(this,arguments)}().catch((function(e){return o.b.error("Internal Server Error. Please try again later!")}))}),[]),Object(b.jsxs)("div",{className:"container create-page-main-section",children:[Object(b.jsx)(o.a,{}),Object(b.jsxs)("form",{onSubmit:function(e){return function(e){function n(){return(n=Object(a.a)(r.a.mark((function e(){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("car_name",m),n.append("car_image",x),n.append("serial_number",w),n.append("plate_number",k),n.append("transmission_type",A),n.append("driven_wheels",R),n.append("client_id",E.value),n.append("client_name",E.label),e.next=11,fetch(u.d+"createvehicle",{method:"POST",headers:{Authorization:null===t||void 0===t?void 0:t.token},body:n});case 11:if(!0!==(a=e.sent).ok){e.next=20;break}return e.next=15,a.json();case 15:c=e.sent,s(!1),200==c.status?window.location=window.location.origin+"/#/vehicleList":o.b.error(c.message),e.next=21;break;case 20:o.b.error("Oops something went wrong!");case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s(!0),e.preventDefault(),function(){return n.apply(this,arguments)}().catch((function(e){return o.b.error("Internal server error. Please try again later")}))}(e)},children:[Object(b.jsxs)("div",{className:"p-sm-5 create-form-field",children:[Object(b.jsxs)("div",{class:"form-group row",children:[Object(b.jsxs)("label",{for:"inputPassword",class:"col-sm-2 col-form-label",children:["Vehicle Name:",Object(b.jsx)("span",{className:"required-label",children:"*"})]}),Object(b.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(b.jsx)("input",{required:!0,value:m,onChange:function(e){return p(e.target.value)},type:"text",class:"form-control",id:"inputPassword"})})]}),Object(b.jsxs)("div",{class:"form-group row",children:[Object(b.jsx)("label",{for:"inputPassword",class:"col-sm-2 col-form-label",children:"Serial Number:"}),Object(b.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(b.jsx)("input",{value:w,onChange:function(e){return y(e.target.value)},type:"text",class:"form-control",id:"inputPassword"})})]}),Object(b.jsxs)("div",{class:"form-group row",children:[Object(b.jsxs)("label",{for:"inputPassword",class:"col-sm-2 col-form-label",children:["Plate Number:",Object(b.jsx)("span",{className:"required-label",children:"*"})]}),Object(b.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(b.jsx)("input",{required:!0,value:k,onChange:function(e){return P(e.target.value)},type:"text",class:"form-control",id:"inputPassword"})})]}),Object(b.jsxs)("div",{class:"form-group row",children:[Object(b.jsx)("label",{for:"inputPassword",class:"col-sm-2 col-form-label",children:"Transmission Type:"}),Object(b.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(b.jsxs)("select",{className:"form-control",value:A,onChange:function(e){return _(e.target.value)},children:[Object(b.jsx)("option",{value:"Automatic Transmission",children:"Automatic Transmission (AT)"}),Object(b.jsx)("option",{value:"Manual Transmission",children:"Manual Transmission (MT)"}),Object(b.jsx)("option",{value:"Automated Manual Transmission",children:"Automated Manual Transmission (AM)"}),Object(b.jsx)("option",{value:"Continuously Variable Transmission",children:"Continuously Variable Transmission (CVT)"})]})})]}),Object(b.jsxs)("div",{class:"form-group row",children:[Object(b.jsx)("label",{for:"inputPassword",class:"col-sm-2 col-form-label",children:"Client:"}),Object(b.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(b.jsx)(j.a,{className:"form-control",options:V,value:E,onChange:J})})]}),Object(b.jsxs)("div",{class:"form-group row",children:[Object(b.jsx)("label",{for:"inputPassword",class:"col-sm-2 col-form-label",children:"Choose Image:"}),Object(b.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(b.jsx)("input",{type:"file",onChange:function(e){return O(e.target.files[0])}})})]}),x&&Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("a",{href:URL.createObjectURL(x),target:"_blank",children:Object(b.jsx)("img",{src:URL.createObjectURL(x),style:{width:"100%",height:200},alt:""})})}),Object(b.jsxs)("div",{class:"form-group row",children:[Object(b.jsxs)("label",{class:"col-sm-2 col-form-label",for:"exampleFormControlTextarea1",children:["Driven Wheels:",Object(b.jsx)("span",{className:"required-label",children:"*"})]}),Object(b.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(b.jsxs)("select",{className:"form-control",value:R,onChange:function(e){return q(e.target.value)},children:[Object(b.jsx)("option",{value:"Front-wheel drive",children:"Front-wheel drive"}),Object(b.jsx)("option",{value:"Rear-wheel drive",children:"Rear-wheel drive"}),Object(b.jsx)("option",{value:"Two-wheel drive",children:"Two-wheel drive"}),Object(b.jsx)("option",{value:"All-wheel drive",children:"All-wheel drive"})]})})]})]}),Object(b.jsxs)("div",{class:"d-flex justify-content-center create-catagory-btns",children:[Object(b.jsxs)("button",{onClick:function(){return window.location.reload()},type:"submit",class:"font-weight-bold m-3 py-2 px-4 btn btn-danger",children:["Cancel",Object(b.jsx)("i",{class:"px-2 fa fa-times","aria-hidden":"true"})]}),Object(b.jsxs)("button",{type:"submit",class:"font-weight-bold m-3 py-2 px-4 btn btn-success",children:["Save",Object(b.jsx)("i",{class:"px-2 fa fa-floppy-o","aria-hidden":"true"})]})]})]})]})}}}]);
//# sourceMappingURL=81.b65edc7e.chunk.js.map