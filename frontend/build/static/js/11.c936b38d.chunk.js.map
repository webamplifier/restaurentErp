{"version":3,"sources":["components/CustomModal.js","components/PayModal.js","screens/Reports/JobCardReport.js"],"names":["CustomModal","props","modal","setModal","deleteEntry","className","show","onClose","closeButton","onClick","color","PayModal","paymodal","setPayModal","payBill","payAmount","setPayAmount","paymentMode","setPaymentMode","htmlFor","type","value","onChange","e","target","JobCardReport","React","useContext","userContext","user","setLoad","useState","purchaseList","setPurchaseList","id","setId","useEffect","a","fetch","url","method","headers","token","response","ok","json","data","status","job_card_list","toast","error","message","fetchData","deleteData","formData","FormData","append","body","purchase_data","payBillServer","xs","lg","items","fields","columnFilter","tableFilter","itemsPerPageSelect","itemsPerPage","hover","sorter","pagination","scopedSlots","item","index","job_card_number","job_card_date","to","class","aria-hidden","style","cursor","window","confirm","Submit","catch","err","handleStatus","fetchInvoice","res_inp","prompt","newInvoice","submitInvoice","convertInvoice"],"mappings":"6KAAA,8DAIe,SAASA,EAAYC,GAAQ,IAChCC,EAAiCD,EAAjCC,MAAOC,EAA0BF,EAA1BE,SAAUC,EAAgBH,EAAhBG,YAEzB,OACI,qBAAKC,UAAU,mBAAf,SACI,eAAC,KAAD,CACIC,KAAMJ,EACNK,QAASJ,EAFb,UAII,cAAC,KAAD,CAAcK,aAAW,IAEzB,eAAC,KAAD,CAAYH,UAAU,oBAAtB,UACI,+EACA,sBAAKA,UAAU,wCAAf,UACI,wBAAQI,QAAS,kBAAML,KAAeC,UAAU,uBAAhD,0BACA,wBAAQA,UAAU,0CAA0CK,MAAM,YAAYD,QAAS,kBAAMN,GAAS,IAAtG,iC,iCCnBxB,8DAIe,SAASQ,EAASV,GAAQ,IAC7BW,EAAyFX,EAAzFW,SAAUC,EAA+EZ,EAA/EY,YAAaC,EAAkEb,EAAlEa,QAASC,EAAyDd,EAAzDc,UAAWC,EAA8Cf,EAA9Ce,aAAcC,EAAgChB,EAAhCgB,YAAaC,EAAmBjB,EAAnBiB,eAE9E,OACI,qBAAKb,UAAU,mBAAf,SACI,eAAC,KAAD,CACIC,KAAMM,EACNL,QAASM,EAFb,UAII,cAAC,KAAD,CAAcL,aAAW,EAAzB,sBAGA,eAAC,KAAD,CAAYH,UAAU,oBAAtB,UACI,sBAAKA,UAAU,MAAf,UAEI,qBAAKA,UAAU,QAAf,SACI,sBAAKA,UAAU,aAAf,UACI,uBAAOc,QAAQ,GAAf,yBACA,uBAAOC,KAAK,OAAOC,MAAON,EAAWO,SAAU,SAAAC,GAAC,OAAIP,EAAaO,EAAEC,OAAOH,QAAQhB,UAAU,sBAGpG,qBAAKA,UAAU,QAAf,SACI,sBAAKA,UAAU,aAAf,UACI,uBAAOc,QAAQ,GAAf,4BACA,yBAAQd,UAAU,eAAegB,MAAOJ,EAAaK,SAAU,SAAAC,GAAC,OAAIL,EAAeK,EAAEC,OAAOH,QAA5F,UACI,wBAAQA,MAAM,KACd,wBAAQA,MAAM,OAAd,kBACA,wBAAQA,MAAM,OAAd,6BAMhB,wBAAQD,KAAK,SAASX,QAAS,kBAAIK,KAAWT,UAAU,gCAAxD,8B,4MClBL,SAASoB,IAAiB,IAAD,EACXC,IAAMC,WAAWC,KAAlCC,EAD4B,EAC5BA,KAAKC,EADuB,EACvBA,QADuB,EAGIJ,IAAMK,SAAS,IAHnB,mBAG7BC,EAH6B,KAGfC,EAHe,OAIVP,IAAMK,UAAS,GAJL,mBAI7B7B,EAJ6B,KAItBC,EAJsB,OAKJuB,IAAMK,UAAS,GALX,mBAK7BnB,EAL6B,KAKnBC,EALmB,OAMFa,IAAMK,SAAS,IANb,mBAM7BhB,EAN6B,KAMlBC,EANkB,OAOEU,IAAMK,SAAS,IAPjB,mBAO7Bd,EAP6B,KAOhBC,EAPgB,OAQhBQ,IAAMK,SAAS,IARC,mBAQ7BG,EAR6B,KAQzBC,EARyB,KAiQpC,OAlJAT,IAAMU,WAAU,WAAM,4CAElB,8BAAAC,EAAA,sEAC2BC,MAAMC,IAAM,sBAAuB,CACtDC,OAAQ,MACRC,QAAS,CACL,qBAAiBZ,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAMa,SAJnC,WAQwB,KAPdC,EADV,QAQiBC,GARjB,gCAS2BD,EAASE,OATpC,OAScC,EATd,OAUQhB,GAAQ,GACY,MAAhBgB,EAAKC,OACLd,EAAgBa,EAAKE,eAErBC,IAAMC,MAAMJ,EAAKK,SAd7B,4CAFkB,sBAClBrB,GAAQ,GADU,mCAqBlBsB,KACD,IA6HC,oCACI,cAAC,IAAD,IACA,cAAC,IAAD,CAAalD,MAAOA,EAAOC,SAAUA,EAAUC,YApMnC,WAAM,4CAEtB,gCAAAiC,EAAA,sEAC2BC,MAAMC,IAAM,kBAAoBL,EAAI,CACvDM,OAAQ,MACRC,QAAS,CACL,qBAAiBZ,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAMa,SAJnC,cACUC,EADV,gBAQuBA,EAASE,OARhC,OAQUC,EARV,OASIhB,GAAQ,GACY,MAAhBgB,EAAKC,QAGUK,EAHM,uCAGrB,8BAAAf,EAAA,sEAC2BC,MAAMC,IAAM,sBAAuB,CACtDC,OAAQ,MACRC,QAAS,CACL,qBAAiBZ,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAMa,SAJnC,WAQwB,KAPdC,EADV,QAQiBC,GARjB,gCAS2BD,EAASE,OATpC,OAScC,EATd,OAUQhB,GAAQ,GACY,MAAhBgB,EAAKC,OACLd,EAAgBa,EAAKE,eAErBC,IAAMC,MAAMJ,EAAKK,SAd7B,2CAHqB,qDACrBhD,GAAS,GACTgC,EAAM,IAoBNiB,KAEAH,IAAMC,MAAMJ,EAAKK,SAlCzB,4CAFsB,sBACtBrB,GAAQ,GADc,mCAuCtBuB,MA8JI,cAAC,IAAD,CAAUzC,SAAUA,EAAUC,YAAaA,EAAaE,UAAWA,EAAWC,aAAcA,EAAcC,YAAaA,EAAaH,QA3P5H,WAAM,4CAElB,kCAAAuB,EAAA,6DACUiB,EAAW,IAAIC,UACZC,OAAO,aAAczC,GAC9BuC,EAASE,OAAO,eAAgBvC,GAHpC,SAI2BqB,MAAMC,IAAM,gBAAkBL,EAAI,CACrDM,OAAQ,OACRC,QAAS,CACL,cAAiBZ,EAAKa,OAE1Be,KAAMH,IATd,UAYuB,IARbX,EAJV,QAYiBC,GAZjB,iCAa2BD,EAASE,OAbpC,OAe2B,MAFbC,EAbd,QAeiBC,QAGUK,EAHK,uCAGpB,8BAAAf,EAAA,sEAC2BC,MAAMC,IAAM,kBAAmB,CAClDC,OAAQ,MACRC,QAAS,CACL,qBAAiBZ,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAMa,SAJnC,WAQwB,KAPdC,EADV,QAQiBC,GARjB,gCAS2BD,EAASE,OATpC,OAScC,EATd,OAUQhB,GAAQ,GACY,MAAhBgB,EAAKC,OACLd,EAAgBa,EAAKY,eAErBT,IAAMC,MAAMJ,EAAKK,SAd7B,2CAHoB,qDACpBtC,GAAY,GACZsB,EAAM,IAoBNiB,KAEAH,IAAMC,MAAMJ,EAAKK,SAvC7B,6CAFkB,sBAClBrB,GAAQ,GADU,mCA6ClB6B,IA8M0JzC,eAAgBA,IACtK,oEACA,cAAC,IAAD,CAAM0C,GAAG,KAAKC,GAAG,KAAjB,SACI,cAAC,IAAD,UACI,cAAC,IAAD,UACI,cAAC,IAAD,CACIC,MAAO9B,EACP+B,OA1QT,CAAC,IAAK,cAAe,eAAgB,aAAc,SAAU,OAAQ,UA2Q5DC,cAAY,EACZC,aAAW,EACXC,oBAAkB,EAClBC,aAAc,EACdC,OAAK,EACLC,QAAM,EACNC,YAAU,EACVC,YAAa,CACT,IAAK,SAACC,EAAMC,GAAP,OACD,6BACKA,EAAQ,KAGjB,WAAc,SAACD,GAAD,OACV,6BACKA,EAAKE,mBAGd,OACI,SAACF,GAAD,OACI,6BAEoB,GAAfA,EAAKzB,OAAc,aAAe,eAI/C,KAAQ,SAACyB,GAAD,OACJ,6BACKA,EAAKG,iBAGd,OAAU,SAACH,GAAD,OACN,+BACI,cAAC,IAAD,CAAMI,GAAE,wBAAmBJ,EAAKtC,IAAhC,SAAsC,mBAAG2C,MAAM,eAAeC,cAAY,WAC1E,mBAAGC,MAAO,CAAEC,OAAQ,WAAavE,QAAS,kBArM5DY,EAqM4EmD,EAAKtC,GApM/FC,EAAMd,QACNlB,GAAS,GAFK,IAAAkB,GAqMsFwD,MAAM,cAAcC,cAAY,SAEpF,GAAfN,EAAKzB,OAAc,mBAAGgC,MAAO,CAAEC,OAAQ,WAAavE,QAAS,kBA1KlG,SAAsByB,GAGlB,IAAY,IAFF+C,OAAOC,QAAQ,mHAEP,CAAC,IAEAC,EAFD,uCAEd,8BAAA9C,EAAA,sEAC2BC,MAAMC,IAAM,yBAA2BL,EAAI,CAC9DO,QAAS,CACL,qBAAiBZ,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAMa,SAHnC,WAOwB,KANdC,EADV,QAOiBC,GAPjB,iCAQ2BD,EAASE,OARpC,OAU2B,MAFbC,EARd,QAUiBC,OAAe,uCACpB,8BAAAV,EAAA,sEAC2BC,MAAMC,IAAM,sBAAuB,CACtDC,OAAQ,MACRC,QAAS,CACL,qBAAiBZ,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAMa,SAJnC,WAQwB,KAPdC,EADV,QAQiBC,GARjB,gCAS2BD,EAASE,OATpC,OAScC,EATd,OAUQhB,GAAQ,GACY,MAAhBgB,EAAKC,OACLd,EAAgBa,EAAKE,eAErBC,IAAMC,MAAMJ,EAAKK,SAd7B,2CADoB,oDAoBpBC,GAEAH,IAAMC,MAAMJ,EAAKK,SAhC7B,wBAmCQF,IAAMC,MAAM,8BAnCpB,4CAFc,qDACdpB,GAAQ,GAwCRqD,IAASC,OAAM,SAAAC,GAAG,OAAIpC,IAAMC,MAAM,8BA8H8DoC,CAAad,EAAKtC,KAAK2C,MAAM,oBAAoBC,cAAY,SAAc,mBAAGC,MAAO,CAAEC,OAAQ,WAAavE,QAAS,kBA1H7N,SAAwByB,GAGpB,GAAW,GAFD+C,OAAOC,QAAQ,8GAER,CAAC,IAECK,EAFF,uCAEb,gCAAAlD,EAAA,sEAC2BC,MAAMC,IAAM,kBAAmB,CAClDE,QAAS,CACL,qBAAiBZ,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAMa,SAHnC,UAOuB,IANbC,EADV,QAOiBC,GAPjB,iCAQ2BD,EAASE,OARpC,OAS2B,MADbC,EARd,QASiBC,QACDyC,EAAUP,OAAOQ,OAAO,2BAA4B3C,EAAK4C,cAChD,uCACT,gCAAArD,EAAA,6DACUiB,EAAW,IAAIC,UACZC,OAAO,UAAWgC,GAF/B,SAG2BlD,MAAMC,IAAM,kBAAoBL,EAAI,CACvDM,OAAQ,OACRC,QAAS,CACL,qBAAiBZ,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAMa,OAE3Be,KAAMH,IARd,UAWuB,IARbX,EAHV,QAWiBC,GAXjB,iCAY2BD,EAASE,OAZpC,OAYcC,EAZd,OAaQhB,GAAQ,GACW,KAAfgB,EAAKC,OAAe,uCACpB,8BAAAV,EAAA,sEAC2BC,MAAMC,IAAM,sBAAuB,CACtDC,OAAQ,MACRC,QAAS,CACL,qBAAiBZ,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAMa,SAJnC,WAQwB,KAPdC,EADV,QAQiBC,GARjB,gCAS2BD,EAASE,OATpC,OAW4B,OAFdC,EATd,QAWiBC,OACLd,EAAgBa,EAAKE,eAErBC,IAAMC,MAAMJ,EAAKK,SAd7B,2CADoB,oDAoBpBC,GAEAH,IAAMC,MAAMJ,EAAKK,SApC7B,wBAuCQF,IAAMC,MAAM,8BAvCpB,4CADS,oDA4CTyC,GAAgBP,OAAM,SAAAC,GAAG,OAAIpC,IAAMC,MAAM,4BAG7CD,IAAMC,MAAMJ,EAAKK,SA1D7B,wBA6DQF,IAAMC,MAAM,8BA7DpB,4CAFa,qDACbpB,GAAQ,GAkERyD,IAAeH,OAAM,SAAAC,GAAG,OAAIpC,IAAMC,MAAM,8BAoDmL0C,CAAepB,EAAKtC,KAAK2C,MAAM,cAAcC,cAAY","file":"static/js/11.c936b38d.chunk.js","sourcesContent":["import { CButton, CModal, CModalBody, CModalFooter, CModalHeader } from '@coreui/react'\r\nimport React from 'react'\r\n\r\n\r\nexport default function CustomModal(props) {\r\n    const { modal, setModal, deleteEntry } = props;\r\n\r\n    return (\r\n        <div className='delete_modal_box'>\r\n            <CModal\r\n                show={modal}\r\n                onClose={setModal}\r\n            >\r\n                <CModalHeader closeButton>\r\n                </CModalHeader>\r\n                <CModalBody className='delete_modal_body'>\r\n                    <p> Are you sure you want to delete this record ?</p>\r\n                    <div className='btn-div-modal-group delete_modal_Btns'>\r\n                        <button onClick={() => deleteEntry()} className='delete_modal_yes_Btn'>Yes, Approve</button>\r\n                        <button className='btn btn-primary delete_modal_cancel_Btn' color=\"secondary\" onClick={() => setModal(false)}>Cancel</button>\r\n                    </div>\r\n                </CModalBody>\r\n            </CModal>\r\n        </div>\r\n    )\r\n}\r\n","import { CButton, CModal, CModalBody, CModalFooter, CModalHeader } from '@coreui/react'\r\nimport React from 'react'\r\n\r\n\r\nexport default function PayModal(props) {\r\n    const { paymodal, setPayModal, payBill, payAmount, setPayAmount, paymentMode, setPaymentMode } = props;\r\n\r\n    return (\r\n        <div className='delete_modal_box'>\r\n            <CModal\r\n                show={paymodal}\r\n                onClose={setPayModal}\r\n            >\r\n                <CModalHeader closeButton>\r\n                    Pay Bill\r\n                </CModalHeader>\r\n                <CModalBody className='delete_modal_body'>\r\n                    <div className=\"row\">\r\n\r\n                        <div className=\"col-6\">\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"\">Paid Amount</label>\r\n                                <input type=\"text\" value={payAmount} onChange={e => setPayAmount(e.target.value)} className='form-control' />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-6\">\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"\">Payment Method</label>\r\n                                <select className='form-control' value={paymentMode} onChange={e => setPaymentMode(e.target.value)}>\r\n                                    <option value=\"\"></option>\r\n                                    <option value=\"cash\">Cash</option>\r\n                                    <option value=\"bank\">Bank</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <button type='submit' onClick={()=>payBill()} className='col-12 btn btn-secondary mb-5'>Submit</button>\r\n                </CModalBody>\r\n            </CModal>\r\n        </div>\r\n    )\r\n}\r\n","import { CBadge, CCard, CCardBody, CCol, CDataTable } from '@coreui/react';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { url } from 'src/helpers/helpers';\r\nimport { toast, ToastContainer } from 'react-toastify'\r\nimport { userContext } from '../../context/UserContext'\r\nimport CustomModal from '../../components/CustomModal';\r\nimport PayModal from '../../components/PayModal';\r\n\r\nconst getBadge = status => {\r\n    switch (status) {\r\n        case 2: return 'success'\r\n        // case 2: return 'secondary'\r\n        case 1: return 'dark'\r\n        // case 'Banned': return 'danger'\r\n        default: return 'primary'\r\n    }\r\n}\r\n\r\nexport default function JobCardReport() {\r\n    const { user,setLoad } = React.useContext(userContext);\r\n    const fields = ['#', 'client_name', 'vehicle_name', 'job_number', 'status', 'date', 'action'];\r\n    const [purchaseList, setPurchaseList] = React.useState([]);\r\n    const [modal, setModal] = React.useState(false);\r\n    const [paymodal, setPayModal] = React.useState(false);\r\n    const [payAmount, setPayAmount] = React.useState('');\r\n    const [paymentMode, setPaymentMode] = React.useState('')\r\n    const [id, setId] = React.useState('')\r\n\r\n    const payBill = () => {\r\n        setLoad(true)\r\n        async function payBillServer() {\r\n            const formData = new FormData();\r\n            formData.append('pay_amount', payAmount);\r\n            formData.append('payment_mode', paymentMode);\r\n            const response = await fetch(url + 'pay/purchase/' + id, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': user.token\r\n                },\r\n                body: formData\r\n            })\r\n\r\n            if (response.ok == true) {\r\n                const data = await response.json();\r\n\r\n                if (data.status == 200) {\r\n                    setPayModal(false);\r\n                    setId('');\r\n                    async function fetchData() {\r\n                        const response = await fetch(url + 'purchase/report', {\r\n                            method: 'GET',\r\n                            headers: {\r\n                                'Authorization': user?.token\r\n                            }\r\n                        })\r\n\r\n                        if (response.ok === true) {\r\n                            const data = await response.json();\r\n                            setLoad(false)\r\n                            if (data.status === 200) {\r\n                                setPurchaseList(data.purchase_data);\r\n                            } else {\r\n                                toast.error(data.message);\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    fetchData();\r\n                } else {\r\n                    toast.error(data.message);\r\n                }\r\n            }\r\n        }\r\n        payBillServer();\r\n    }\r\n\r\n    const payModal = (item, id) => {\r\n        setPayAmount(parseFloat(item.total_after_roundoff) - parseFloat(item.amount_paid))\r\n        setPayModal(true);\r\n        setId(id);\r\n    }\r\n\r\n    const deleteEntry = () => {\r\n        setLoad(true)\r\n        async function deleteData() {\r\n            const response = await fetch(url + 'delete/jobcard/' + id, {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Authorization': user?.token\r\n                }\r\n            })\r\n\r\n            const data = await response.json();\r\n            setLoad(false)\r\n            if (data.status === 200) {\r\n                setModal(false);\r\n                setId('');\r\n                async function fetchData() {\r\n                    const response = await fetch(url + 'fetch-job-card-list', {\r\n                        method: 'GET',\r\n                        headers: {\r\n                            'Authorization': user?.token\r\n                        }\r\n                    })\r\n        \r\n                    if (response.ok === true) {\r\n                        const data = await response.json();\r\n                        setLoad(false)\r\n                        if (data.status === 200) {\r\n                            setPurchaseList(data.job_card_list);\r\n                        } else {\r\n                            toast.error(data.message);\r\n                        }\r\n                    }\r\n                }\r\n        \r\n                fetchData();\r\n            } else {\r\n                toast.error(data.message)\r\n            }\r\n        }\r\n        deleteData();\r\n    }\r\n\r\n    const showModal = value => {\r\n        setId(value);\r\n        setModal(true)\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setLoad(true)\r\n        async function fetchData() {\r\n            const response = await fetch(url + 'fetch-job-card-list', {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Authorization': user?.token\r\n                }\r\n            })\r\n\r\n            if (response.ok === true) {\r\n                const data = await response.json();\r\n                setLoad(false)\r\n                if (data.status === 200) {\r\n                    setPurchaseList(data.job_card_list);\r\n                } else {\r\n                    toast.error(data.message);\r\n                }\r\n            }\r\n        }\r\n\r\n        fetchData();\r\n    }, [])\r\n\r\n    function handleStatus(id) {\r\n        let res = window.confirm('Are you sure you want to mark the job card complete. Please check the bill properly before marking it complete.');\r\n\r\n        if (res === true) {\r\n            setLoad(true)\r\n            async function Submit() {\r\n                const response = await fetch(url + 'mark-jobcard-complete/' + id, {\r\n                    headers: {\r\n                        'Authorization': user?.token\r\n                    }\r\n                });\r\n\r\n                if (response.ok === true) {\r\n                    const data = await response.json();\r\n\r\n                    if (data.status == 200) {\r\n                        async function fetchData() {\r\n                            const response = await fetch(url + 'fetch-job-card-list', {\r\n                                method: 'GET',\r\n                                headers: {\r\n                                    'Authorization': user?.token\r\n                                }\r\n                            })\r\n\r\n                            if (response.ok === true) {\r\n                                const data = await response.json();\r\n                                setLoad(false)\r\n                                if (data.status === 200) {\r\n                                    setPurchaseList(data.job_card_list);\r\n                                } else {\r\n                                    toast.error(data.message);\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        fetchData();\r\n                    } else {\r\n                        toast.error(data.message)\r\n                    }\r\n                } else {\r\n                    toast.error('Oops something went wrong!')\r\n                }\r\n            }\r\n\r\n            Submit().catch(err => toast.error('Internal server error!'))\r\n        }\r\n    }\r\n\r\n    function convertInvoice(id) {\r\n        let res = window.confirm('Are you sure you want to convert job card into invoice. Please check the payment and all details correctly');\r\n\r\n        if (res == true) {\r\n            setLoad(true)\r\n            async function fetchInvoice() {\r\n                const response = await fetch(url + 'grab-newinvoice', {\r\n                    headers: {\r\n                        'Authorization': user?.token\r\n                    }\r\n                });\r\n\r\n                if (response.ok == true) {\r\n                    const data = await response.json();\r\n                    if (data.status == 200) {\r\n                        let res_inp = window.prompt('Enter the invocie number', data.newInvoice);\r\n                        if (res_inp) {\r\n                            async function submitInvoice() {\r\n                                const formData = new FormData();\r\n                                formData.append('invoice', res_inp);\r\n                                const response = await fetch(url + 'submit-invoice/' + id, {\r\n                                    method: 'POST',\r\n                                    headers: {\r\n                                        'Authorization': user?.token\r\n                                    },\r\n                                    body: formData\r\n                                });\r\n\r\n                                if (response.ok == true) {\r\n                                    const data = await response.json();\r\n                                    setLoad(false)\r\n                                    if (data.status == 200) {\r\n                                        async function fetchData() {\r\n                                            const response = await fetch(url + 'fetch-job-card-list', {\r\n                                                method: 'GET',\r\n                                                headers: {\r\n                                                    'Authorization': user?.token\r\n                                                }\r\n                                            })\r\n\r\n                                            if (response.ok === true) {\r\n                                                const data = await response.json();\r\n\r\n                                                if (data.status === 200) {\r\n                                                    setPurchaseList(data.job_card_list);\r\n                                                } else {\r\n                                                    toast.error(data.message);\r\n                                                }\r\n                                            }\r\n                                        }\r\n\r\n                                        fetchData();\r\n                                    } else {\r\n                                        toast.error(data.message)\r\n                                    }\r\n                                } else {\r\n                                    toast.error('Oops something went wrong!')\r\n                                }\r\n                            }\r\n\r\n                            submitInvoice().catch(err => toast.error('Internal server error'))\r\n                        }\r\n                    } else {\r\n                        toast.error(data.message)\r\n                    }\r\n                } else {\r\n                    toast.error('Oops something went wrong!')\r\n                }\r\n            }\r\n\r\n            fetchInvoice().catch(err => toast.error('Internal server error.'))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section>\r\n            <ToastContainer />\r\n            <CustomModal modal={modal} setModal={setModal} deleteEntry={deleteEntry} />\r\n            <PayModal paymodal={paymodal} setPayModal={setPayModal} payAmount={payAmount} setPayAmount={setPayAmount} paymentMode={paymentMode} payBill={payBill} setPaymentMode={setPaymentMode} />\r\n            <p>1 for uncomplete and 2 for complete</p>\r\n            <CCol xs=\"12\" lg=\"12\">\r\n                <CCard>\r\n                    <CCardBody>\r\n                        <CDataTable\r\n                            items={purchaseList}\r\n                            fields={fields}\r\n                            columnFilter\r\n                            tableFilter\r\n                            itemsPerPageSelect\r\n                            itemsPerPage={5}\r\n                            hover\r\n                            sorter\r\n                            pagination\r\n                            scopedSlots={{\r\n                                '#': (item, index) => (\r\n                                    <td>\r\n                                        {index + 1}\r\n                                    </td>\r\n                                ),\r\n                                'job_number': (item) => (\r\n                                    <td>\r\n                                        {item.job_card_number}\r\n                                    </td>\r\n                                ),\r\n                                'status':\r\n                                    (item) => (\r\n                                        <td>\r\n\r\n                                            {item.status == 1 ? 'Uncomplete' : 'Completed'}\r\n\r\n                                        </td>\r\n                                    ),\r\n                                'date': (item) => (\r\n                                    <td>\r\n                                        {item.job_card_date}\r\n                                    </td>\r\n                                ),\r\n                                'action': (item) => (\r\n                                    <td>\r\n                                        <Link to={`/edit/jobcard/${item.id}`}><i class=\"fa fa-pencil\" aria-hidden=\"true\"></i></Link>\r\n                                        <i style={{ cursor: \"pointer\" }} onClick={() => showModal(item.id)} class=\"fa fa-trash\" aria-hidden=\"true\"></i>\r\n\r\n                                        {item.status == 1 ? <i style={{ cursor: 'pointer' }} onClick={() => handleStatus(item.id)} class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i> : <i style={{ cursor: 'pointer' }} onClick={() => convertInvoice(item.id)} class=\"fa fa-check\" aria-hidden=\"true\"></i>}\r\n                                    </td>\r\n                                )\r\n\r\n                            }\r\n                            }\r\n                        />\r\n                    </CCardBody>\r\n                </CCard>\r\n            </CCol>\r\n        </section>\r\n    )\r\n}\r\n"],"sourceRoot":""}