(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[82],{744:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var r=n(63),s=n.n(r),a=n(112),i=n(48),l=n(1),c=n.n(l),o=n(626),u=n(113),d=n(83),b=n(631),j=n(20),m=n(11);function p(){var e=Object(j.i)().id,t=c.a.useContext(d.b),n=t.user,r=t.setLoad,l=c.a.useState(""),p=Object(i.a)(l,2),h=p[0],f=p[1],v=c.a.useState(""),x=Object(i.a)(v,2),O=x[0],w=x[1],g=c.a.useState(""),y=Object(i.a)(g,2),k=y[0],_=y[1],T=c.a.useState(""),C=Object(i.a)(T,2),S=C[0],N=C[1],P=c.a.useState(""),A=Object(i.a)(P,2),M=A[0],q=A[1],F=c.a.useState(""),I=Object(i.a)(F,2),V=I[0],z=I[1],D=c.a.useState([]),E=Object(i.a)(D,2),J=E[0],L=E[1],R=c.a.useState(""),B=Object(i.a)(R,2),W=B[0],G=B[1];return c.a.useEffect((function(){function t(){return(t=Object(a.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u.d+"clientlist",{headers:{Authorization:null===n||void 0===n?void 0:n.token}});case 2:if(!0!==(t=e.sent).ok){e.next=11;break}return e.next=6,t.json();case 6:a=e.sent,r(!1),200==a.status?L(a.client_list.map((function(e){return{value:e.id,label:e.name}}))):o.b.error(a.message),e.next=12;break;case 11:o.b.error("Oops something went wrong!");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(a.a)(s.a.mark((function t(){var a,i,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(!0),t.next=3,fetch(u.d+"vehicleById/"+e,{headers:{Authorization:null===n||void 0===n?void 0:n.token}});case 3:if(!0!==(a=t.sent).ok){t.next=12;break}return t.next=7,a.json();case 7:i=t.sent,r(!1),200===i.status?(l=i.vehicle_detail,f(null===l||void 0===l?void 0:l.car_name),_(null===l||void 0===l?void 0:l.serial_number),N(null===l||void 0===l?void 0:l.plate_number),q(null===l||void 0===l?void 0:l.transmission_type),G({value:null===l||void 0===l?void 0:l.client_id,label:null===l||void 0===l?void 0:l.client_name}),w(u.d+l.car_image),z(null===l||void 0===l?void 0:l.driven_wheels)):o.b.error(i.message),t.next=13;break;case 12:o.b.error("Oops something went wrong!");case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}r(!0),function(){return t.apply(this,arguments)}().catch((function(e){return o.b.error("Internal Server Error. Please try again later!")})),function(){return i.apply(this,arguments)}().catch((function(e){return o.b.error("Internal server error!")}))}),[]),Object(m.jsxs)("div",{className:"container create-page-main-section",children:[Object(m.jsx)(o.a,{}),Object(m.jsxs)("form",{onSubmit:function(t){return function(t){function i(){return(i=Object(a.a)(s.a.mark((function t(){var a,i,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("car_name",h),a.append("serial_number",k),a.append("plate_number",S),a.append("transmission_type",M),a.append("driven_wheels",V),a.append("client_id",W.value),a.append("client_name",W.label),t.next=10,fetch(u.d+"updatevehicle/"+e,{method:"POST",headers:{Authorization:null===n||void 0===n?void 0:n.token},body:a});case 10:if(!0!==(i=t.sent).ok){t.next=19;break}return t.next=14,i.json();case 14:l=t.sent,r(!1),200==l.status?window.location=window.location.origin+"/#/vehicleList":o.b.error(l.message),t.next=20;break;case 19:o.b.error("Oops something went wrong!");case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}r(!0),t.preventDefault(),function(){return i.apply(this,arguments)}().catch((function(e){return o.b.error("Internal server error. Please try again later")}))}(t)},children:[Object(m.jsxs)("div",{className:"p-sm-5 create-form-field",children:[Object(m.jsxs)("div",{class:"form-group row",children:[Object(m.jsxs)("label",{for:"inputPassword",class:"col-sm-2 col-form-label",children:["Vehicle Name:",Object(m.jsx)("span",{className:"required-label",children:"*"})]}),Object(m.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(m.jsx)("input",{required:!0,value:h,onChange:function(e){return f(e.target.value)},type:"text",class:"form-control",id:"inputPassword"})})]}),Object(m.jsxs)("div",{class:"form-group row",children:[Object(m.jsx)("label",{for:"inputPassword",class:"col-sm-2 col-form-label",children:"Serial Number:"}),Object(m.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(m.jsx)("input",{value:k,onChange:function(e){return _(e.target.value)},type:"text",class:"form-control",id:"inputPassword"})})]}),Object(m.jsxs)("div",{class:"form-group row",children:[Object(m.jsxs)("label",{for:"inputPassword",class:"col-sm-2 col-form-label",children:["Plate Number:",Object(m.jsx)("span",{className:"required-label",children:"*"})]}),Object(m.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(m.jsx)("input",{required:!0,value:S,onChange:function(e){return N(e.target.value)},type:"text",class:"form-control",id:"inputPassword"})})]}),Object(m.jsxs)("div",{class:"form-group row",children:[Object(m.jsx)("label",{for:"inputPassword",class:"col-sm-2 col-form-label",children:"Transmission Type:"}),Object(m.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(m.jsxs)("select",{className:"form-control",value:M,onChange:function(e){return q(e.target.value)},children:[Object(m.jsx)("option",{value:"Automatic Transmission",children:"Automatic Transmission (AT)"}),Object(m.jsx)("option",{value:"Manual Transmission",children:"Manual Transmission (MT)"}),Object(m.jsx)("option",{value:"Automated Manual Transmission",children:"Automated Manual Transmission (AM)"}),Object(m.jsx)("option",{value:"Continuously Variable Transmission",children:"Continuously Variable Transmission (CVT)"})]})})]}),Object(m.jsxs)("div",{class:"form-group row",children:[Object(m.jsx)("label",{for:"inputPassword",class:"col-sm-2 col-form-label",children:"Client:"}),Object(m.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(m.jsx)(b.a,{className:"form-control",options:J,value:W,onChange:G})})]}),O&&Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("a",{href:O,target:"_blank",children:Object(m.jsx)("img",{src:O,style:{width:"100%",height:200},alt:""})})}),Object(m.jsxs)("div",{class:"form-group row",children:[Object(m.jsxs)("label",{class:"col-sm-2 col-form-label",for:"exampleFormControlTextarea1",children:["Driven Wheels:",Object(m.jsx)("span",{className:"required-label",children:"*"})]}),Object(m.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(m.jsxs)("select",{className:"form-control",value:V,onChange:function(e){return z(e.target.value)},children:[Object(m.jsx)("option",{value:"Front-wheel drive",children:"Front-wheel drive"}),Object(m.jsx)("option",{value:"Rear-wheel drive",children:"Rear-wheel drive"}),Object(m.jsx)("option",{value:"Two-wheel drive",children:"Two-wheel drive"}),Object(m.jsx)("option",{value:"All-wheel drive",children:"All-wheel drive"})]})})]})]}),Object(m.jsxs)("div",{class:"d-flex justify-content-center create-catagory-btns",children:[Object(m.jsxs)("button",{onClick:function(){return window.location.reload()},type:"submit",class:"font-weight-bold m-3 py-2 px-4 btn btn-danger",children:["Cancel",Object(m.jsx)("i",{class:"px-2 fa fa-times","aria-hidden":"true"})]}),Object(m.jsxs)("button",{type:"submit",class:"font-weight-bold m-3 py-2 px-4 btn btn-success",children:["Save",Object(m.jsx)("i",{class:"px-2 fa fa-floppy-o","aria-hidden":"true"})]})]})]})]})}}}]);
//# sourceMappingURL=82.350db99e.chunk.js.map