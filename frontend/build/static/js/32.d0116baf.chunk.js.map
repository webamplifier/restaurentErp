{"version":3,"sources":["components/CustomModal.js","screens/Party/Index.js"],"names":["CustomModal","props","modal","setModal","deleteEntry","className","show","onClose","closeButton","onClick","color","getBadge","status","Index","React","useContext","userContext","user","setLoad","useState","partyList","setPartyList","id","setId","useEffect","a","fetch","url","method","headers","token","response","ok","json","data","party_list","map","item","index","name","email","mobile","fetchData","toast","error","message","deleteData","to","xs","lg","items","fields","columnFilter","tableFilter","itemsPerPageSelect","itemsPerPage","hover","sorter","pagination","scopedSlots","status_id","class","aria-hidden","style","cursor","value"],"mappings":"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","file":"static/js/32.d0116baf.chunk.js","sourcesContent":["import { CButton, CModal, CModalBody, CModalFooter, CModalHeader } from '@coreui/react'\r\nimport React from 'react'\r\n\r\n\r\nexport default function CustomModal(props) {\r\n    const { modal, setModal, deleteEntry } = props;\r\n\r\n    return (\r\n        <div className='delete_modal_box'>\r\n            <CModal\r\n                show={modal}\r\n                onClose={setModal}\r\n            >\r\n                <CModalHeader closeButton>\r\n                </CModalHeader>\r\n                <CModalBody className='delete_modal_body'>\r\n                    <p> Are you sure you want to delete this record ?</p>\r\n                    <div className='btn-div-modal-group delete_modal_Btns'>\r\n                        <button onClick={() => deleteEntry()} className='delete_modal_yes_Btn'>Yes, Approve</button>\r\n                        <button className='btn btn-primary delete_modal_cancel_Btn' color=\"secondary\" onClick={() => setModal(false)}>Cancel</button>\r\n                    </div>\r\n                </CModalBody>\r\n            </CModal>\r\n        </div>\r\n    )\r\n}\r\n","import { CBadge, CCard, CCardBody, CCol, CDataTable } from '@coreui/react';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { url } from 'src/helpers/helpers';\r\nimport { toast, ToastContainer } from 'react-toastify'\r\nimport { userContext } from '../../context/UserContext'\r\nimport CustomModal from '../../components/CustomModal';\r\n\r\n\r\nconst getBadge = status => {\r\n  switch (status) {\r\n    case '1': return 'success'\r\n    case '2': return 'secondary'\r\n    // case 'Pending': return 'warning'\r\n    // case 'Banned': return 'danger'\r\n    default: return 'primary'\r\n  }\r\n}\r\n\r\nexport default function Index() {\r\n  const { user,setLoad } = React.useContext(userContext);\r\n  const fields = ['#', 'name', 'email', 'mobile', 'action'];\r\n  const [partyList, setPartyList] = React.useState([]);\r\n  const [id, setId] = React.useState(null);\r\n  const [modal, setModal] = React.useState(false)\r\n\r\n  React.useEffect(() => {\r\n    setLoad(true)\r\n    async function fetchData() {\r\n      const response = await fetch(url + 'partylist', {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': user?.token\r\n        }\r\n      })\r\n\r\n      if (response.ok === true) {\r\n        const data = await response.json();\r\n\r\n        if (data.status === 200) {\r\n          setLoad(false)\r\n          setPartyList(data.party_list.map((item, index) => {\r\n            return {\r\n              '#': index + 1,\r\n              'id': item.id,\r\n              'name': item.name,\r\n              'email': item.email,\r\n              'mobile': item.mobile\r\n\r\n            }\r\n          }))\r\n        }\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [])\r\n\r\n\r\n  const deleteEntry = () => {\r\n    setLoad(true)\r\n    async function deleteData() {\r\n      const response = await fetch(url + 'deleteparty/' + id, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': user?.token\r\n        }\r\n      })\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.status === 200) {\r\n        setModal(false);\r\n        setId('');\r\n        async function fetchData() {\r\n          const response = await fetch(url + 'partylist', {\r\n            method: 'GET',\r\n            headers: {\r\n              'Authorization': user?.token\r\n            }\r\n          })\r\n    \r\n          if (response.ok === true) {\r\n            const data = await response.json();\r\n    \r\n            if (data.status === 200) {\r\n              setLoad(false)\r\n              setPartyList(data.party_list.map((item, index) => {\r\n                return {\r\n                  '#': index + 1,\r\n                  'id': item.id,\r\n                  'name': item.name,\r\n                  'email': item.email,\r\n                  'mobile': item.mobile\r\n    \r\n                }\r\n              }))\r\n            }\r\n          }\r\n        }\r\n        fetchData();\r\n\r\n      } else {\r\n        setLoad(false)\r\n        toast.error(data.message)\r\n      }\r\n    }\r\n    deleteData();\r\n  }\r\n\r\n  const showModal = value => {\r\n    setId(value);\r\n    setModal(true)\r\n  }\r\n\r\n  return (\r\n    <section>\r\n      <ToastContainer />\r\n      <CustomModal modal={modal} setModal={setModal} deleteEntry={deleteEntry} />\r\n      <Link to='/create/party'>Create Party</Link>\r\n      <CCol xs=\"12\" lg=\"12\">\r\n        <CCard>\r\n          <CCardBody>\r\n            <CDataTable\r\n              items={partyList}\r\n              fields={fields}\r\n              columnFilter\r\n              tableFilter\r\n              itemsPerPageSelect\r\n              itemsPerPage={5}\r\n              hover\r\n              sorter\r\n              pagination\r\n              scopedSlots={{\r\n                'status':\r\n                  (item) => (\r\n                    <td>\r\n                      <CBadge color={getBadge(item.status_id)}>\r\n                        {item.status_id === 1 ? 'Active' : 'Inactive'}\r\n                      </CBadge>\r\n                    </td>\r\n                  ),\r\n                'action': (item) => (\r\n                  <td>\r\n                    <Link to={`/edit/party/${item.id}`}><i class=\"fa fa-pencil\" aria-hidden=\"true\"></i></Link>\r\n                    <i style={{ cursor: \"pointer\" }} onClick={() => showModal(item.id)} class=\"fa fa-trash\" aria-hidden=\"true\"></i>\r\n                  </td>\r\n                )\r\n\r\n              }\r\n              }\r\n            />\r\n          </CCardBody>\r\n        </CCard>\r\n      </CCol>\r\n    </section>\r\n  )\r\n}"],"sourceRoot":""}