{"version":3,"sources":["screens/Roles/Edit.js"],"names":["Edit","React","useContext","userContext","user","setLoad","useState","name","setName","id","useParams","useEffect","a","fetch","url","headers","token","response","ok","json","data","status","role_detail","toast","error","message","fetchData","catch","err","className","onSubmit","e","formData","FormData","append","method","body","window","location","origin","preventDefault","sendData","handleSubmit","for","value","onChange","target","type","placeholder","required","onClick","reload","class","aria-hidden"],"mappings":"4TAMe,SAASA,IAAQ,IAAD,EACJC,IAAMC,WAAWC,KAAjCC,EADoB,EACpBA,KAAKC,EADe,EACfA,QADe,EAEJJ,IAAMK,SAAS,IAFX,mBAEpBC,EAFoB,KAEfC,EAFe,KAGpBC,EAAMC,cAAND,GA2DP,OA1BAR,IAAMU,WAAU,WAAI,4CAEhB,gCAAAC,EAAA,sEAC2BC,MAAMC,IAAM,YAAcL,EAAG,CAChDM,QAAU,CACN,qBAAkBX,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAMY,SAHpC,WAOwB,KANdC,EADV,QAOiBC,GAPjB,iCAQ2BD,EAASE,OARpC,OAQcC,EARd,OASQf,GAAQ,GACW,KAAfe,EAAKC,QACDC,EADe,OACDF,QADC,IACDA,OADC,EACDA,EAAME,YACxBd,EAAO,OAACc,QAAD,IAACA,OAAD,EAACA,EAAaf,OAErBgB,IAAMC,MAAMJ,EAAKK,SAd7B,wBAiBQF,IAAMC,MAAM,8BAjBpB,6CAFgB,sBAChBnB,GAAQ,GADQ,0CAuBhBqB,GAAYC,OAAM,SAAAC,GAAG,OAAEL,IAAMC,MAAM,+BACrC,IAGE,sBAAKK,UAAU,qCAAf,UACI,cAAC,IAAD,IACA,uBAAMC,SAAU,SAAAC,GAAC,OA3DJ,SAAAA,GAAK,4CAGtB,gCAAAnB,EAAA,6DACUoB,EAAW,IAAIC,UACZC,OAAO,OAAO3B,GAF3B,SAI2BM,MAAMC,IAAM,cAAgBL,EAAG,CAClD0B,OAAS,OACTpB,QAAU,CACN,qBAAkBX,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAMY,OAE5BoB,KAAOJ,IATf,WAYwB,KARdf,EAJV,QAYiBC,GAZjB,iCAa2BD,EAASE,OAbpC,UAacC,EAbd,OAcQf,GAAQ,GACY,MAAhBe,EAAKC,OAfjB,0CAgBmBgB,OAAOC,SAAWD,OAAOC,SAASC,OAAS,eAhB9D,QAkBYhB,IAAMC,MAAMJ,EAAKK,SAlB7B,6CAHsB,sBACtBpB,GAAQ,GACR0B,EAAES,iBAFoB,mCA0BtBC,GAiCuBC,CAAaX,IAAhC,UACI,qBAAKF,UAAU,2BAAf,SACI,sBAAKA,UAAU,iBAAf,UACI,wBAAOc,IAAI,iBAAiBd,UAAU,wFAAtC,sBAAuI,sBAAMA,UAAU,iBAAhB,kBACvI,qBAAKA,UAAU,sBAAf,SACI,uBAAOe,MAAOrC,EAAMsC,SAAU,SAAAd,GAAC,OAAEvB,EAAQuB,EAAEe,OAAOF,QAAQG,KAAK,OAAOlB,UAAU,+BAA+BpB,GAAG,iBAAiBuC,YAAY,kBAAkBC,UAAQ,WAIrL,sBAAMpB,UAAU,qDAAhB,UACI,yBAAQqB,QAAS,kBAAIb,OAAOC,SAASa,UAAUJ,KAAK,SAASK,MAAM,gDAAnE,mBAAyH,mBAAGA,MAAM,mBAAmBC,cAAY,YACjK,yBAAQN,KAAK,SAASK,MAAM,iDAA5B,iBAAiF,mBAAGA,MAAM,sBAAsBC,cAAY","file":"static/js/77.3a6a95b0.chunk.js","sourcesContent":["import React from 'react'\r\nimport { toast,ToastContainer } from 'react-toastify';\r\nimport { url } from 'src/helpers/helpers';\r\nimport {userContext} from '../../context/UserContext';\r\nimport {useParams} from 'react-router-dom';\r\n\r\nexport default function Edit() {\r\n    const {user,setLoad} = React.useContext(userContext);\r\n    const [name,setName] = React.useState('');\r\n    const {id} = useParams(); \r\n    \r\n\r\n    const handleSubmit = e => {\r\n        setLoad(true)\r\n        e.preventDefault();\r\n        async function sendData(){\r\n            const formData = new FormData();\r\n            formData.append('name',name);\r\n\r\n            const response = await fetch(url + 'updaterole/' + id,{\r\n                method : 'POST',\r\n                headers : {\r\n                    'Authorization' : user?.token\r\n                },\r\n                body : formData\r\n            })\r\n\r\n            if (response.ok === true){\r\n                const data = await response.json();\r\n                setLoad(false)\r\n                if (data.status === 200){\r\n                    return window.location = window.location.origin + '/#/roleList'\r\n                }else{\r\n                    toast.error(data.message)\r\n                }\r\n            }\r\n\r\n        }\r\n        sendData();\r\n    }\r\n\r\n\r\n    React.useEffect(()=>{\r\n        setLoad(true)\r\n        async function fetchData(){\r\n            const response = await fetch(url + 'roleById/' + id,{\r\n                headers : {\r\n                    'Authorization' : user?.token\r\n                }\r\n            });\r\n\r\n            if (response.ok === true){\r\n                const data = await response.json();\r\n                setLoad(false)\r\n                if (data.status == 200){\r\n                    let role_detail = data?.role_detail;\r\n                    setName(role_detail?.name)\r\n                }else{\r\n                    toast.error(data.message);\r\n                }\r\n            }else{\r\n                toast.error('Oops something went wrong!');\r\n            }\r\n        }\r\n\r\n        fetchData().catch(err=>toast.error('Internal server error!'));\r\n    },[])\r\n\r\n    return (\r\n        <div className=\"container create-page-main-section\">\r\n            <ToastContainer />\r\n            <form onSubmit={e=>handleSubmit(e)}>\r\n                <div className='p-sm-5 create-form-field'>\r\n                    <div className=\"form-group row\">\r\n                        <label for=\"colFormLabelLg\" className=\"d-flex justify-content-md-center  col-md-2 col-sm-12 col-form-label col-form-label-lg\">Role Name<span className='required-label'>*</span></label>\r\n                        <div className=\"col-md-10 col-sm-12\">\r\n                            <input value={name} onChange={e=>setName(e.target.value)} type=\"text\" className=\"form-control form-control-lg\" id=\"colFormLabelLg\" placeholder=\"Enter Role Name\" required />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div  className=\"create-catagory-btns d-flex justify-content-center\">\r\n                    <button onClick={()=>window.location.reload()} type=\"button\" class=\"font-weight-bold m-3 py-2 px-4 btn btn-danger\">Cancel<i class=\"px-2 fa fa-times\" aria-hidden=\"true\"></i></button>\r\n                    <button type=\"submit\" class=\"font-weight-bold m-3 py-2 px-4 btn btn-success\">Save<i class=\"px-2 fa fa-floppy-o\" aria-hidden=\"true\"></i></button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n"],"sourceRoot":""}