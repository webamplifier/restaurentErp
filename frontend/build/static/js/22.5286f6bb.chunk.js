(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[22],{629:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var a=c(114);var n=c(165);function r(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(n.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},630:function(e,t,c){"use strict";t.a=c.p+"static/media/add.b7874215.svg"},753:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return f}));var a=c(629),n=c(63),r=c.n(n),s=c(112),l=c(48),o=c(1),i=c.n(o),u=c(630),d=c(631),j=c(113),b=c(83),m=c(626),p=c(20),h=c(11);function f(){var e=Object(p.g)(),t=Object(p.i)().id,c=i.a.useContext(b.b),n=c.user,o=c.setLoad,f=i.a.useState(""),x=Object(l.a)(f,2),O=x[0],v=x[1],_=i.a.useState(""),g=Object(l.a)(_,2),y=g[0],k=g[1],C=i.a.useState(""),N=Object(l.a)(C,2),S=N[0],F=N[1],w=i.a.useState(""),q=Object(l.a)(w,2),A=q[0],T=q[1],D=i.a.useState([]),I=Object(l.a)(D,2),B=I[0],P=I[1],V=i.a.useState("None"),J=Object(l.a)(V,2),z=J[0],E=J[1],M=i.a.useState(j.a[0]),R=Object(l.a)(M,2),U=R[0],Q=R[1],G=i.a.useState(""),L=Object(l.a)(G,2),H=L[0],K=L[1],W=i.a.useState(0),X=Object(l.a)(W,2),Y=X[0],Z=X[1],$=i.a.useState(0),ee=Object(l.a)($,2),te=ee[0],ce=ee[1],ae=i.a.useState(0),ne=Object(l.a)(ae,2),re=ne[0],se=ne[1],le=i.a.useState("percent"),oe=Object(l.a)(le,2),ie=oe[0],ue=oe[1],de=i.a.useState(0),je=Object(l.a)(de,2),be=je[0],me=je[1],pe=i.a.useState(""),he=Object(l.a)(pe,2),fe=he[0],xe=he[1],Oe=i.a.useState(""),ve=Object(l.a)(Oe,2),_e=ve[0],ge=ve[1],ye=i.a.useState(""),ke=Object(l.a)(ye,2),Ce=ke[0],Ne=ke[1],Se=i.a.useState([]),Fe=Object(l.a)(Se,2),we=Fe[0],qe=Fe[1],Ae=i.a.useState([]),Te=Object(l.a)(Ae,2),De=Te[0],Ie=Te[1],Be=i.a.useState([]),Pe=Object(l.a)(Be,2),Ve=Pe[0],Je=Pe[1],ze=i.a.useState([]),Ee=Object(l.a)(ze,2),Me=Ee[0],Re=Ee[1],Ue=0,Qe=0,Ge=0,Le=0,He=0,Ke=i.a.useState(""),We=Object(l.a)(Ke,2),Xe=We[0],Ye=We[1],Ze=i.a.useState("percent"),$e=Object(l.a)(Ze,2),et=$e[0],tt=$e[1],ct=i.a.useState(0),at=Object(l.a)(ct,2),nt=at[0],rt=at[1],st=i.a.useState(0),lt=Object(l.a)(st,2),ot=lt[0],it=lt[1],ut=i.a.useState("cash"),dt=Object(l.a)(ut,2),jt=dt[0],bt=dt[1],mt=i.a.useState(0),pt=Object(l.a)(mt,2),ht=pt[0],ft=pt[1],xt=i.a.useState(0),Ot=Object(l.a)(xt,2),vt=Ot[0],_t=Ot[1],gt=i.a.useState(0),yt=Object(l.a)(gt,2),kt=yt[0],Ct=yt[1],Nt=i.a.useState(""),St=Object(l.a)(Nt,2),Ft=St[0],wt=St[1],qt=0,At=0,Tt=0,Dt=0,It=0,Bt=0,Pt=0;i.a.useEffect((function(){function e(){return(e=Object(s.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(j.d+"fetch-needs-job",{method:"GET",headers:{Authorization:null===n||void 0===n?void 0:n.token}});case 2:if(!0!==(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:c=e.sent,o(!1),200===c.status?(Re(null===c||void 0===c?void 0:c.all_vehicles.map((function(e){return{value:e.id,label:e.car_name,client_id:e.client_id}}))),qe(c.product_inventory_based.map((function(e){return{value:e.id,label:e.total_qty?"".concat(null===e||void 0===e?void 0:e.product_name," (").concat(null===e||void 0===e?void 0:e.total_qty,")"):e.product_name,inventory_id:null===e||void 0===e?void 0:e.inventory_id,product_name:e.product_name,category_name:e.category_name,price:null===e||void 0===e?void 0:e.price}}))),Ie(null===c||void 0===c?void 0:c.all_customers.map((function(e){return{value:e.id,label:e.mobile+" - "+e.name}})))):m.b.error(c.message);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=Object(s.a)(r.a.mark((function e(){var c,a,s,l,i,u,d,b,m,p,h,f,x,O,_;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,fetch(j.d+"jobcard-detail/"+t,{headers:{Authorization:null===n||void 0===n?void 0:n.token}});case 3:if(!0!==(c=e.sent).ok){e.next=10;break}return e.next=7,c.json();case 7:if(a=e.sent,o(!1),200==a.status){for(s=a.sales_header,l=a.sales_items,u=0,v((function(){return 1==s.status?s.job_card_number:3==s.status?s.invoice_number:void 0})),s.bill_discount_percentage?(i="percent",u=s.bill_discount_percentage):s.bill_discount_amount&&(i="amount",u=s.bill_discount_amount),k((function(){return 1==s.status?s.job_card_date:3==s.status?s.invoice_date:void 0})),F({value:s.client_id,label:s.client_name}),Ye({value:s.vehicle_id,label:s.vehicle_name}),E(s.discount_type),Ne(j.d+s.estimation_proof),d=[],b=0;b<l.length;b++)m=l[b],p="",h=0,m.discount_percent?(p="percent",h=m.discount_percent):m.discount_amount&&(p="amount",h=m.discount_amount),f={item:{value:m.product_id,label:m.product_name,product_name:m.product_name,category_name:m.product_category_name},description:m.description,item_id:m.id,cost_per_unit:m.sales_price,qty:m.qty,free:m.free_qty,tax:m.tax_percent,discount_type:p,discountValue:h,total:m.total,amount_before_tax_item:m.amount_before_tax,tax_amount_item:m.tax_amount,amount_after_tax_item:m.amount_after_tax,amount_before_discount:m.amount_before_discount,discount_amount:m.discount_amount,amount_after_discount:m.amount_after_discount},d.push(f);Je(d),x=0,O=0,_=0,d.map((function(e){x=parseFloat(x)+parseFloat(e.total),O=parseFloat(O)+parseFloat(e.tax_amount_item),_=parseFloat(_)+parseFloat(e.discount_amount)})),ft(x),_t(O),Ct(_),rt(u),tt(i),bt(s.payment_type),ge(s.remarks)}case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o(!0),function(){e.apply(this,arguments)}(),function(){c.apply(this,arguments)}()}),[]);Y>0&&te>0&&U&&(At=parseFloat(Y)*parseFloat(te),Dt=At/100*parseFloat(U),qt=Tt=At+Dt,"Item"!=z&&"Both"!=z||(It=Tt,"percent"==ie&&(Pt=parseFloat(It)/100*parseFloat(be),qt=Bt=It-Pt),"amount"==ie&&(Pt=parseFloat(be),qt=Bt=It-Pt)));ht>0&&("Bill"==z||"Both"==z?("percent"==et&&(Le=ht/100*parseFloat(nt),ht,He=ht-Le),"amount"==et&&(Le=parseFloat(nt),ht,He=ht-Le),Ue=He,Qe=Math.round(He),Ge=Qe-parseFloat(ot)):(Ue=ht,Qe=Math.round(Ue),Ge=Qe-parseFloat(ot)));return Object(h.jsxs)("div",{className:"container full-size-create-page-main-section",children:[Object(h.jsx)(m.a,{}),Object(h.jsxs)("form",{children:[Object(h.jsxs)("div",{className:"p-sm-5 px-md-3 create-form-field create-purchase-page",children:[Object(h.jsxs)("div",{class:"py-4 px-2 form-row create-purchase-header",children:[Object(h.jsxs)("div",{class:"form-group col-md-3",children:[Object(h.jsxs)("label",{for:"invoice-number",children:["Invoice No.",Object(h.jsx)("span",{className:"required-label",children:"*"})]}),Object(h.jsx)("input",{value:O,onChange:function(e){return v(e.target.value)},type:"text",class:"form-control",id:"invoice-number",required:!0})]}),Object(h.jsxs)("div",{class:"form-group col-md-3",children:[Object(h.jsxs)("label",{for:"date",children:["Date",Object(h.jsx)("span",{className:"required-label",children:"*"})]}),Object(h.jsx)("input",{value:y,onChange:function(e){return k(e.target.value)},type:"date",class:"form-control",id:"date",required:!0})]}),Object(h.jsxs)("div",{class:"form-group col-md-6",children:[Object(h.jsxs)("label",{for:"input-party",children:["Client",Object(h.jsx)("span",{className:"required-label",children:"*"})]}),Object(h.jsx)(d.a,{options:De,value:S,onChange:function(e){F(e);var t=[];Me.map((function(c){c.client_id==e.value&&t.push(c)})),P(t)}})]}),Object(h.jsxs)("div",{class:"form-group col-md-6",children:[Object(h.jsxs)("label",{for:"input-party",children:["Vehicle",Object(h.jsx)("span",{className:"required-label",children:"*"})]}),Object(h.jsx)(d.a,{options:B,value:Xe,onChange:Ye})]}),Object(h.jsxs)("div",{class:"form-group my-md-3 col-md-4",children:[Object(h.jsx)("div",{className:"text-center mb-2 font-weight-bold",children:Object(h.jsxs)("label",{for:"input-party",children:["Discount Type",Object(h.jsx)("span",{className:"required-label",children:"*"})]})}),Object(h.jsxs)("div",{className:"row px-3",children:[Object(h.jsxs)("div",{class:"form-check col-sm-3",children:[Object(h.jsx)("input",{checked:"None"==z&&!0,onClick:function(){return E("None")},class:"form-check-input",name:"discount",type:"radio",value:"",id:"defaultCheck1"}),Object(h.jsx)("label",{class:"form-check-label",for:"defaultCheck1",children:"None"})]}),Object(h.jsxs)("div",{class:"form-check col-sm-3",children:[Object(h.jsx)("input",{onClick:function(){return E("Item")},class:"form-check-input",name:"discount",type:"radio",value:"",id:"defaultCheck2"}),Object(h.jsx)("label",{class:"form-check-label",for:"defaultCheck2",children:"Item"})]}),Object(h.jsxs)("div",{class:"form-check col-sm-3",children:[Object(h.jsx)("input",{onClick:function(){return E("Bill")},class:"form-check-input",name:"discount",type:"radio",value:"",id:"defaultCheck3"}),Object(h.jsx)("label",{class:"form-check-label",for:"defaultCheck3",children:"Bill"})]}),Object(h.jsxs)("div",{class:"form-check col-sm-3",children:[Object(h.jsx)("input",{onClick:function(){return E("Both")},class:"form-check-input",name:"discount",type:"radio",value:"",id:"defaultCheck3"}),Object(h.jsx)("label",{class:"form-check-label",for:"defaultCheck3",children:"Both"})]})]})]})]}),Object(h.jsxs)("div",{class:"my-4 form-row",children:[Object(h.jsxs)("div",{class:"form-group col-md-4",children:[Object(h.jsxs)("label",{for:"invoice-number",children:["Item",Object(h.jsx)("span",{className:"required-label",children:"*"})]}),Object(h.jsx)(d.a,{options:we,value:H,onChange:function(e){K(e),wt(""),Z(null===e||void 0===e?void 0:e.price),JSON.parse(e.add_ons)}})]}),Object(h.jsxs)("div",{class:"form-group col-md-4",children:[Object(h.jsx)("label",{for:"invoice-number",children:"Item Description"}),Object(h.jsx)("textarea",{value:fe,onChange:function(e){return xe(e.target.value)},class:"form-control"})]}),Object(h.jsxs)("div",{class:"form-group col-md-4",children:[Object(h.jsxs)("label",{for:"invoice-number",children:["Cost/Unit",Object(h.jsx)("span",{className:"required-label",children:"*"})]}),Object(h.jsx)("input",{value:Y,onChange:function(e){return Z(e.target.value)},type:"text",class:"form-control",id:""})]}),Object(h.jsxs)("div",{class:"form-group col-md-4",children:[Object(h.jsxs)("label",{for:"invoice-number",children:["Quantity",Object(h.jsx)("span",{className:"required-label",children:"*"})]}),Object(h.jsx)("input",{value:te,onChange:function(e){return ce(e.target.value)},type:"text",class:"form-control",id:""})]}),Object(h.jsxs)("div",{class:"form-group col-md-4",children:[Object(h.jsxs)("label",{for:"invoice-number",children:["Free",Object(h.jsx)("span",{className:"required-label",children:"*"})]}),Object(h.jsx)("input",{value:re,onChange:function(e){return se(e.target.value)},type:"text",class:"form-control",id:""})]}),Object(h.jsxs)("div",{class:"form-group col-md-4",children:[Object(h.jsxs)("label",{for:"invoice-number",children:["Tax%",Object(h.jsx)("span",{className:"required-label",children:"*"})]}),Object(h.jsx)("select",{className:"form-control",placeholder:"Select tax value",value:U,onChange:function(e){return Q(e.target.value)},children:j.a.map((function(e){return Object(h.jsx)("option",{value:e,children:e})}))})]}),"Item"==z&&Object(h.jsxs)("div",{className:"form-group col-md-4",children:[Object(h.jsx)("label",{htmlFor:"",children:"Discount"}),Object(h.jsxs)("div",{className:"m-0 p-0 col-12 row",children:[Object(h.jsx)("div",{className:"px-0 col-5",children:Object(h.jsx)("input",{value:be,onChange:function(e){return me(e.target.value)},class:"form-control",type:"text",name:"",id:""})}),Object(h.jsx)("div",{className:"p-0 col-7",children:Object(h.jsxs)("select",{value:ie,onChange:function(e){return ue(e.target.value)},class:"form-control",required:!0,children:[Object(h.jsx)("option",{value:"",children:"Select Type"}),Object(h.jsx)("option",{value:"percent",children:"Percent"}),Object(h.jsx)("option",{value:"amount",children:"Amount"})]})})]})]}),"Both"==z&&Object(h.jsxs)("div",{className:"form-group col-md-4",children:[Object(h.jsx)("label",{htmlFor:"",children:"Discount"}),Object(h.jsxs)("div",{className:"m-0 p-0 col-12 row",children:[Object(h.jsx)("div",{className:"px-0 col-5",children:Object(h.jsx)("input",{value:be,onChange:function(e){return me(e.target.value)},class:"form-control",type:"text",name:"",id:""})}),Object(h.jsx)("div",{className:"p-0 col-7",children:Object(h.jsxs)("select",{value:ie,onChange:function(e){return ue(e.target.value)},class:"form-control",required:!0,children:[Object(h.jsx)("option",{value:"",children:"Select Type"}),Object(h.jsx)("option",{value:"percent",children:"Percent"}),Object(h.jsx)("option",{value:"amount",children:"Amount"})]})})]})]}),Object(h.jsxs)("div",{class:"form-group col-md-4 row",children:[Object(h.jsxs)("div",{class:"form-group col-9",children:[Object(h.jsxs)("label",{for:"invoice-number",children:["Total",Object(h.jsx)("span",{className:"required-label",children:"*"})]}),Object(h.jsx)("input",{value:qt,readOnly:!0,type:"text",class:"form-control",id:""})]}),Object(h.jsx)("div",{class:"form-group col-3 p-0 purchase-create-mid-plus-img",children:Object(h.jsx)("img",{className:"img-fluid",onClick:function(){return function(){if(O&&y&&S&&z&&H&&Y&&te&&U){var e={item:H,description:fe,cost_per_unit:Y,qty:te,free:re,tax:U,discount_type:ie,discountValue:be,total:qt,amount_before_tax_item:At,tax_amount_item:Dt,amount_after_tax_item:Tt,amount_before_discount:It,discount_amount:Pt,amount_after_discount:Bt};if(Ft){wt("");var t=[];Ve.map((function(c,a){a==parseInt(Ft)-1?(e.item_id=A,t.push(e)):t.push(c)})),T("");var c=0,n=0,r=0;t.map((function(e){c=parseFloat(c)+parseFloat(e.tax_amount_item),n=parseFloat(n)+parseFloat(e.total),r=parseFloat(r)+parseFloat(e.discount_amount)})),_t(c),ft(n),Ct(r),Je(t)}else{var s=[].concat(Object(a.a)(Ve),[e]),l=0,o=0,i=0;s.map((function(e){l=parseFloat(l)+parseFloat(e.tax_amount_item),o=parseFloat(o)+parseFloat(e.total),i=parseFloat(i)+parseFloat(e.discount_amount)})),_t(l),Ct(i),ft(o),ft(parseFloat(ht)+parseFloat(qt)),Je(s)}K(""),Z(0),Z(0),ce(0),se(0),Q(""),ue(""),me(0),xe(""),qt=0,At=0,Tt=0,Dt=0,It=0,Bt=0,Pt=0}else m.b.error("Fill all fields having *")}()},style:{cursor:"pointer"},src:u.a,alt:""})})]})]}),Ve.length>0&&Object(h.jsx)("div",{className:"my-table-responsive",children:Object(h.jsxs)("table",{class:"table mt-4",children:[Object(h.jsx)("thead",{class:"thead-dark",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"Items"}),Object(h.jsx)("th",{scope:"col",children:"Description"}),Object(h.jsx)("th",{scope:"col",children:"Cost/Unit"}),Object(h.jsx)("th",{scope:"col",children:"Quantity"}),Object(h.jsx)("th",{scope:"col",children:"Free"}),Object(h.jsx)("th",{scope:"col",children:"Tax%"}),Object(h.jsx)("th",{children:"Discount"}),Object(h.jsx)("th",{scope:"col",children:"Total"}),Object(h.jsx)("th",{children:"Actions"})]})}),Object(h.jsx)("tbody",{className:"table-borderless",children:Ve.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.item.label}),Object(h.jsx)("td",{children:e.description}),Object(h.jsx)("td",{children:e.cost_per_unit}),Object(h.jsx)("td",{children:e.qty}),Object(h.jsx)("td",{children:e.free}),Object(h.jsx)("td",{children:e.tax}),Object(h.jsxs)("td",{children:[e.discountValue," ",e.discount_type]}),Object(h.jsx)("td",{children:e.total}),Object(h.jsxs)("td",{children:[Object(h.jsx)("i",{style:{cursor:"pointer"},onClick:function(){return function(e,t){console.log(e),T(e.item_id),wt(t),K(e.item),xe(e.description),Z(e.cost_per_unit),ce(e.qty),se(e.free),Q(e.tax),ue(e.discount_type),me(e.discountValue),qt=e.total}(e,t+1)},class:"fa fa-pencil","aria-hidden":"true"}),Object(h.jsx)("i",{onClick:function(){return function(e){var t=[];Ve.map((function(c,a){a!=e&&t.push(c)})),Je(t)}(t)},style:{cursor:"pointer"},class:"fa fa-trash","aria-hidden":"true"})]})]})}))})]})}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["taxabale amount:- ",vt&&vt]}),Object(h.jsxs)("div",{children:["discount amount:- ",kt&&kt]})]}),Object(h.jsxs)("div",{className:"row mt-5 justify-content-between purchase-create-footer",children:[Object(h.jsxs)("div",{class:"col-md-5",children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"",children:"Upload Estimation Image *"}),Object(h.jsx)("input",{type:"file",onChange:function(e){return Ne(e.target.files[0])},className:"form-control"})]}),Ce&&Object(h.jsx)("a",{href:Ce,target:"_blank",children:Object(h.jsx)("img",{src:Ce})}),Object(h.jsxs)("div",{className:"form-group ",children:[Object(h.jsx)("label",{for:"exampleFormControlTextarea1",children:"Remarks"}),Object(h.jsx)("textarea",{value:_e,onChange:function(e){return ge(e.target.value)},class:"form-control",id:"exampleFormControlTextarea1",rows:"5"})]})]}),Object(h.jsxs)("div",{className:"col-md-6",children:[Object(h.jsxs)("div",{class:"form-group row",children:[Object(h.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Total Value"}),Object(h.jsx)("div",{class:"col-md-8",children:Object(h.jsx)("input",{type:"text",value:ht,readOnly:!0,class:"form-control",id:""})})]}),"Bill"==z&&Object(h.jsxs)("div",{class:"form-group row",children:[Object(h.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Discount"}),Object(h.jsxs)("div",{class:"pr-0 col-md-8 row",children:[Object(h.jsx)("div",{className:"pr-0 col-5",children:Object(h.jsx)("input",{class:"form-control",value:nt,onChange:function(e){return rt(e.target.value)},type:"text",name:"",id:""})}),Object(h.jsx)("div",{className:"px-0 col-7",children:Object(h.jsxs)("select",{value:et,onChange:function(e){return tt(e.target.value)},class:"form-control",required:!0,children:[Object(h.jsx)("option",{value:"",children:"Select Type"}),Object(h.jsx)("option",{value:"percent",children:"Percent"}),Object(h.jsx)("option",{value:"amount",children:"Amount"})]})})]})]}),"Both"==z&&Object(h.jsxs)("div",{class:"form-group row",children:[Object(h.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Discount"}),Object(h.jsxs)("div",{class:"pr-0 col-md-8 row",children:[Object(h.jsx)("div",{className:"pr-0 col-5",children:Object(h.jsx)("input",{class:"form-control",type:"text",value:nt,onChange:function(e){return rt(e.target.value)}})}),Object(h.jsx)("div",{className:"px-0 col-7",children:Object(h.jsxs)("select",{value:et,onChange:function(e){return tt(e.target.value)},class:"form-control",required:!0,children:[Object(h.jsx)("option",{value:"",children:"Select Type"}),Object(h.jsx)("option",{value:"percent",children:"Percent"}),Object(h.jsx)("option",{value:"amount",children:"Amount"})]})})]})]}),Object(h.jsxs)("div",{class:"form-group row",children:[Object(h.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Final Amount"}),Object(h.jsx)("div",{class:"col-md-8",children:Object(h.jsx)("input",{readOnly:!0,value:Ue,type:"text",class:"form-control",id:""})})]}),Object(h.jsxs)("div",{class:"form-group row",children:[Object(h.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Round Off Total"}),Object(h.jsx)("div",{class:"col-md-8",children:Object(h.jsx)("input",{readOnly:!0,value:Qe,type:"text",class:"form-control",id:""})})]}),Object(h.jsxs)("div",{class:"form-group row",children:[Object(h.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Paid Amount"}),Object(h.jsx)("div",{class:"col-md-8",children:Object(h.jsx)("input",{value:ot,onChange:function(e){return it(e.target.value)},type:"text",class:"form-control",id:""})})]}),ot>0&&Object(h.jsxs)("div",{class:"form-group row",children:[Object(h.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Payment Method"}),Object(h.jsx)("div",{class:"col-md-8",children:Object(h.jsxs)("select",{value:jt,onChange:function(e){return bt(e.target.value)},id:"input-party",class:"form-control",required:!0,children:[Object(h.jsx)("option",{value:"",children:"Select payment mode"}),Object(h.jsx)("option",{value:"cash",children:"Cash"}),Object(h.jsx)("option",{value:"bank",children:"Bank"})]})})]}),Object(h.jsxs)("div",{class:"form-group row",children:[Object(h.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Remain Amount"}),Object(h.jsx)("div",{class:"col-md-8",children:Object(h.jsx)("input",{type:"text",value:Ge,readOnly:!0,class:"form-control",id:""})})]})]})]})]}),Object(h.jsxs)("div",{class:"d-flex justify-content-center create-catagory-btns",children:[Object(h.jsxs)("button",{type:"button",onClick:function(){return window.location.reload()},class:"font-weight-bold m-3 py-2 px-4 btn btn-danger",children:["Cancel",Object(h.jsx)("i",{class:"px-2 fa fa-times","aria-hidden":"true"})]}),Object(h.jsxs)("button",{type:"button",onClick:function(){return function(){if(O&&y&&S&&Ve.length>0&&ht&&Ce){var c=function(){var c=Object(s.a)(r.a.mark((function c(){var a,s;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch(j.d+"update-jobcard/"+t,{method:"POST",headers:{Authorization:n.token},body:u});case 2:if(1!=(a=c.sent).ok){c.next=9;break}return c.next=6,a.json();case 6:s=c.sent,o(!1),200==s.status?e.push("/#/create/purchase"):m.b.error(s.message);case 9:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();o(!0);var a={invoiceNo:O,purchaseDate:y,currentParty:S,currentVehilce:Xe,discountType:z},l={totalValue:ht,finalAmount:Ue,roundOffTotal:Qe,paidAmount:ot,remainAmount:Ge,finalDiscountValue:nt,finalDiscountCriteria:et,remarks:_e,paymentMethod:jt,taxableAmount:vt,discountAmount:kt},i=[];i.push(a),i.push(l);var u=new FormData;u.append("final_array",JSON.stringify(i)),u.append("allItems",JSON.stringify(Ve)),u.append("proof_image",Ce),c()}else m.b.error("Please fill the data with *")}()},class:"font-weight-bold m-3 py-2 px-4 btn btn-success",children:["Save",Object(h.jsx)("i",{class:"px-2 fa fa-floppy-o","aria-hidden":"true"})]})]})]})]})}}}]);
//# sourceMappingURL=22.5286f6bb.chunk.js.map