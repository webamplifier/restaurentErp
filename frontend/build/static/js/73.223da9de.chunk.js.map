{"version":3,"sources":["screens/Products/create.js"],"names":["Create","React","useContext","userContext","user","setLoad","useState","allCategory","setAllCategory","currentCategory","setCurrentCategory","currentProductType","setCurrentProductType","currentUniqueNumber","setCurrentUniqueNumber","name","setName","price","setPrice","useEffect","a","fetch","url","method","headers","token","response","ok","json","data","status","category_list","map","item","value","id","label","fetchData","className","onSubmit","e","preventDefault","formData","FormData","body","window","location","origin","toast","error","message","append","submitData","handleSubmit","class","for","options","onChange","target","type","aria-hidden"],"mappings":"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","file":"static/js/73.223da9de.chunk.js","sourcesContent":["import React from 'react'\r\nimport { url } from 'src/helpers/helpers';\r\nimport {userContext} from '../../context/UserContext'\r\nimport Select from 'react-select'\r\nimport { toast,ToastContainer } from 'react-toastify';\r\n\r\nexport default function Create() {\r\n    const {user,setLoad} = React.useContext(userContext);\r\n    const [allCategory,setAllCategory] = React.useState([]);\r\n\r\n    const [currentCategory,setCurrentCategory] = React.useState('');\r\n    const [currentProductType,setCurrentProductType] = React.useState('product');\r\n    const [currentUniqueNumber,setCurrentUniqueNumber] = React.useState('');\r\n\r\n    const [name,setName] = React.useState('');\r\n    const [price,setPrice] = React.useState('0')\r\n    \r\n    React.useEffect(()=>{\r\n        setLoad(true)\r\n        async function fetchData(){\r\n            const response = await fetch(url + 'categorylist',{\r\n                method : 'GET',\r\n                headers : {\r\n                    'Authorization' : user.token\r\n                }\r\n            })\r\n\r\n            if (response.ok === true){\r\n                const data = await response.json();\r\n\r\n                if (data.status === 200){\r\n                    setLoad(false)\r\n                    setAllCategory(data?.category_list?.map(item=>{\r\n                        return {\r\n                            value : item.id,\r\n                            label : item.name\r\n                        }\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n        fetchData();\r\n    },[])\r\n\r\n    const handleSubmit = e => {\r\n        setLoad(true)\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('category_id',currentCategory.value);\r\n        formData.append('category_name',currentCategory.label);\r\n        formData.append('type',currentProductType);\r\n        formData.append('product_name',name);\r\n        formData.append('unique_number',currentUniqueNumber);\r\n        formData.append('price',price)\r\n\r\n        async function submitData(){\r\n            const response = await fetch(url + 'createproduct',{\r\n                method : 'POST',\r\n                headers : {\r\n                    'Authorization' : user?.token\r\n                },\r\n                body : formData\r\n            })\r\n\r\n            if (response.ok === true){\r\n                const data = await response.json();\r\n\r\n                if (data.status === 200){\r\n                    setLoad(false)\r\n                    return window.location = window.location.origin + '/#/products'\r\n                }else{\r\n                    setLoad(false)\r\n                    toast.error(data.message)\r\n                }\r\n            }\r\n        }\r\n\r\n        submitData();\r\n    }\r\n\r\n    return (\r\n        <div className=\"container create-page-main-section\">\r\n            <ToastContainer />\r\n            <form onSubmit={e=>handleSubmit(e)}>\r\n                <div className='p-sm-5 create-form-field'>\r\n                    <div class=\"form-group row\">\r\n                        <label class=\"col-sm-2 col-form-label\" for=\"exampleFormControlSelect1\">Product\r\n                    Catagory:<span className='required-label'>*</span></label>\r\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\r\n                            <Select className=\"form-control\" options={allCategory} value={currentCategory} onChange={setCurrentCategory} />    \r\n                        </div>\r\n                    </div>\r\n                    <div class=\"form-group row\">\r\n                        <label class=\"col-sm-2 col-form-label\" for=\"exampleFormControlSelect1\">Type:<span className='required-label'>*</span></label>\r\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\r\n                            <select className='form-control' value={currentProductType} onChange={e=>setCurrentProductType(e.target.value)}>\r\n                                <option value=\"product\">Product</option>\r\n                                <option value=\"service\">Service</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"form-group row\">\r\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Product Name:<span className='required-label'>*</span></label>\r\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\r\n                            <input value={name} onChange={e=>setName(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"form-group row\">\r\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Product Price:<span className='required-label'>*</span></label>\r\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\r\n                            <input value={price} onChange={e=>setPrice(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"form-group row\">\r\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Unique Number:</label>\r\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\r\n                            <input value={currentUniqueNumber} onChange={e=>setCurrentUniqueNumber(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n                <div class=\"d-flex justify-content-center create-catagory-btns\">\r\n                    <button type=\"submit\" class=\"font-weight-bold m-3 py-2 px-4 btn btn-danger\">Cancel<i\r\n                        class=\"px-2 fa fa-times\" aria-hidden=\"true\"></i></button>\r\n                    <button type=\"submit\" class=\"font-weight-bold m-3 py-2 px-4 btn btn-success\">Save<i\r\n                        class=\"px-2 fa fa-floppy-o\" aria-hidden=\"true\"></i></button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n"],"sourceRoot":""}