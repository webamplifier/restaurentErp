{"version":3,"sources":["components/CustomModal.js","screens/Roles/Index.js"],"names":["CustomModal","props","modal","setModal","deleteEntry","className","show","onClose","closeButton","onClick","color","getBadge","status","Index","React","useContext","userContext","user","setLoad","useState","roleLit","setRoleList","id","setId","useEffect","a","fetch","url","method","headers","token","response","ok","json","data","roles_list","toast","error","message","fetchData","deleteData","to","xs","lg","items","fields","columnFilter","tableFilter","itemsPerPageSelect","itemsPerPage","hover","sorter","pagination","scopedSlots","item","status_id","class","aria-hidden","style","cursor","value","index"],"mappings":"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","file":"static/js/34.7654379a.chunk.js","sourcesContent":["import { CButton, CModal, CModalBody, CModalFooter, CModalHeader } from '@coreui/react'\r\nimport React from 'react'\r\n\r\n\r\nexport default function CustomModal(props) {\r\n    const { modal, setModal, deleteEntry } = props;\r\n\r\n    return (\r\n        <div className='delete_modal_box'>\r\n            <CModal\r\n                show={modal}\r\n                onClose={setModal}\r\n            >\r\n                <CModalHeader closeButton>\r\n                </CModalHeader>\r\n                <CModalBody className='delete_modal_body'>\r\n                    <p> Are you sure you want to delete this record ?</p>\r\n                    <div className='btn-div-modal-group delete_modal_Btns'>\r\n                        <button onClick={() => deleteEntry()} className='delete_modal_yes_Btn'>Yes, Approve</button>\r\n                        <button className='btn btn-primary delete_modal_cancel_Btn' color=\"secondary\" onClick={() => setModal(false)}>Cancel</button>\r\n                    </div>\r\n                </CModalBody>\r\n            </CModal>\r\n        </div>\r\n    )\r\n}\r\n","import { CBadge, CCard, CCardBody, CCol, CDataTable } from '@coreui/react';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { url } from 'src/helpers/helpers';\r\nimport {toast,ToastContainer} from 'react-toastify'\r\nimport {userContext} from '../../context/UserContext'\r\nimport CustomModal from '../../components/CustomModal';\r\n\r\nconst getBadge = status => {\r\n    switch (status) {\r\n      case '1': return 'success'\r\n      case '2': return 'secondary'\r\n      // case 'Pending': return 'warning'\r\n      // case 'Banned': return 'danger'\r\n      default: return 'primary'\r\n    }\r\n  }\r\n\r\nexport default function Index(){\r\n  const {user,setLoad} = React.useContext(userContext);\r\n    const fields = ['#','name','action'];\r\n    const [roleLit,setRoleList] = React.useState([]);\r\n    const [modal,setModal] = React.useState(false);\r\n    const [id,setId] = React.useState('')\r\n\r\n    const deleteEntry = () => {\r\n      setLoad(true)\r\n      async function deleteData(){\r\n        const response = await fetch(url + 'deleterole/' + id,{\r\n          method : 'GET',\r\n          headers : {\r\n            'Authorization' : user?.token\r\n          }\r\n        })\r\n\r\n        const data = await response.json();\r\n        setLoad(false)\r\n        if (data.status === 200){\r\n          setModal(false);\r\n          setId('');\r\n\r\n          async function fetchData(){\r\n            const response = await fetch(url + 'rolelist',{\r\n              method : 'GET',\r\n              headers : {\r\n                'Authorization' : user?.token\r\n              }\r\n            })\r\n    \r\n            if (response.ok === true){\r\n              const data = await response.json();\r\n    \r\n              if (data.status === 200){\r\n                setRoleList(data.roles_list);\r\n              }else{\r\n                toast.error(data.message);\r\n              }\r\n            }\r\n          }\r\n    \r\n          fetchData();\r\n          \r\n        }else{\r\n          toast.error(data.message)\r\n        }\r\n      }\r\n      deleteData();\r\n    }\r\n\r\n    const showModal = value => {\r\n      setId(value);\r\n      setModal(true)\r\n    }\r\n\r\n    React.useEffect(()=>{\r\n      setLoad(true)\r\n      async function fetchData(){\r\n        const response = await fetch(url + 'rolelist',{\r\n          method : 'GET',\r\n          headers : {\r\n            'Authorization' : user?.token\r\n          }\r\n        })\r\n\r\n        if (response.ok === true){\r\n          const data = await response.json();\r\n          setLoad(false)\r\n          if (data.status === 200){\r\n            setRoleList(data.roles_list);\r\n          }else{\r\n            toast.error(data.message);\r\n          }\r\n        }\r\n      }\r\n\r\n      fetchData();\r\n    },[])\r\n\r\n    return(\r\n        <section>\r\n          <ToastContainer />\r\n          <CustomModal modal={modal} setModal={setModal} deleteEntry={deleteEntry} />\r\n            <Link to='/create/role'>Create Role</Link>\r\n            <CCol xs=\"12\" lg=\"12\">\r\n          <CCard>\r\n            <CCardBody>\r\n            <CDataTable\r\n              items={roleLit}\r\n              fields={fields}\r\n              columnFilter\r\n              tableFilter\r\n              itemsPerPageSelect\r\n              itemsPerPage={5}\r\n              hover\r\n              sorter\r\n              pagination\r\n              scopedSlots = {{\r\n                'status':\r\n                  (item)=>(\r\n                    <td>\r\n                      <CBadge color={getBadge(item.status_id)}>\r\n                        {item.status_id === 1 ? 'Active' : 'Inactive'}\r\n                      </CBadge>\r\n                    </td>\r\n                  ),\r\n                'action': (item)=>(\r\n                  <td>\r\n                    <Link to={`/edit/role/${item.id}`}><i class=\"fa fa-pencil\" aria-hidden=\"true\"></i></Link>\r\n                    <i style={{cursor:\"pointer\"}} onClick={()=>showModal(item.id)} class=\"fa fa-trash\" aria-hidden=\"true\"></i>\r\n                    <Link to={`/permission/${item.id}`}><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></Link>\r\n                  </td>\r\n                ),\r\n\r\n                '#' : (item,index) => (\r\n                  <td>\r\n                    {index + 1}\r\n                  </td>\r\n                )\r\n\r\n              }\r\n            }\r\n            />\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n        </section>\r\n    )\r\n}"],"sourceRoot":""}