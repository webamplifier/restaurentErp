{"version":3,"sources":["screens/companies/CreateCompany.js"],"names":["CreateCompany","user","React","useContext","userContext","fetchContext","allCountries","allStates","allCities","allBusinessTypes","useState","filterStates","setFilterStates","filterCities","setFilterCities","currentCountry","setCurrentCountry","currentState","setCurrentState","currentCity","setCurrentCity","currentBusiness","setCurrentBusiness","companyLogo","setCompanyLogo","previewImage","setPreviewImage","name","setName","email","setEmail","number","setNumber","pincode","setPinCode","taxNumber","setTaxNumber","website","setWebsite","isDemo","setIsDemo","expiredDate","setExpiredDate","showLogo","setShowLogo","address","setAddress","onSubmit","e","a","formData","FormData","append","value","fetch","url","method","headers","token","body","response","ok","json","data","status","window","location","origin","toast","error","message","preventDefault","submitData","handleSubmit","className","onChange","target","required","type","options","filter_states_data","map","item","company_id","push","filter_cities_data","state_id","console","log","URL","createObjectURL","changeImage","files","src","alt","rows","cols"],"mappings":"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","file":"static/js/84.abb63af9.chunk.js","sourcesContent":["\r\nimport React from 'react';\r\nimport Select from 'react-select';\r\nimport {fetchContext} from '../../context/fetchContext'\r\nimport {toast,ToastContainer} from 'react-toastify'\r\nimport { url } from 'src/helpers/helpers';\r\nimport {userContext} from '../../context/UserContext'\r\n\r\nexport default function CreateCompany(){\r\n    const {user} = React.useContext(userContext);\r\n    const {allCountries,allStates,allCities,allBusinessTypes} = React.useContext(fetchContext);\r\n    const [filterStates,setFilterStates] = React.useState([]);\r\n    const [filterCities,setFilterCities] = React.useState([]);\r\n    const [currentCountry,setCurrentCountry] = React.useState('');\r\n    const [currentState,setCurrentState] = React.useState('');\r\n    const [currentCity,setCurrentCity] = React.useState('');\r\n    const [currentBusiness,setCurrentBusiness] = React.useState('');\r\n    const [companyLogo,setCompanyLogo] = React.useState('');\r\n    const [previewImage,setPreviewImage] = React.useState('');\r\n    const [name,setName] = React.useState('');\r\n    const [email,setEmail] = React.useState('');\r\n    const [number,setNumber] = React.useState('');\r\n    const [pincode,setPinCode] = React.useState('');\r\n    const [taxNumber,setTaxNumber] = React.useState('');\r\n    const [website,setWebsite] = React.useState('');\r\n    const [isDemo,setIsDemo] = React.useState(false);\r\n    const [expiredDate,setExpiredDate] = React.useState('');\r\n    const [showLogo,setShowLogo] = React.useState(false);\r\n    const [address,setAddress] = React.useState('');\r\n\r\n    const setCountryValue = value => {\r\n        setFilterStates([]);\r\n        setCurrentState('');\r\n        setFilterCities([]);\r\n        setCurrentCity('');\r\n        setCurrentCountry(value)\r\n        const filter_states_data = [];\r\n        allStates.map(item=>{\r\n            if (item.company_id === value.value){\r\n                filter_states_data.push(item)\r\n            }\r\n            return {};\r\n        })\r\n        setFilterStates(filter_states_data)\r\n    }\r\n\r\n    const setStateValue = value => {\r\n        setCurrentState(value);\r\n        setCurrentCity('')\r\n        const filter_cities_data = [];\r\n        allCities.map(item=>{\r\n            if (item.state_id === value.value){\r\n                filter_cities_data.push(item);\r\n            }\r\n            return {};\r\n        })\r\n        setFilterCities(filter_cities_data);\r\n\r\n    }\r\n\r\n    const setCityValue = value => {\r\n        setCurrentCity(value)\r\n    }\r\n\r\n    const changeImage = e => {\r\n        console.log(e);\r\n        setCompanyLogo(e[0])\r\n        setPreviewImage(URL.createObjectURL(e[0]))\r\n\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        async function submitData(){\r\n            if (currentCity && currentCountry && currentState){\r\n                const formData = new FormData();\r\n                formData.append('name',name);\r\n                formData.append('email',email);\r\n                formData.append('number',number);\r\n                formData.append('country',currentCountry.value);\r\n                formData.append('state',currentState.value);\r\n                formData.append('city',currentCity.value);\r\n                formData.append('pincode',pincode);\r\n                formData.append('tax_number',taxNumber);\r\n                formData.append('business_type',currentBusiness.value);\r\n                formData.append('website',website);\r\n                formData.append('is_demo',isDemo);\r\n                formData.append('expired_date',expiredDate);\r\n                formData.append('show_logo',showLogo);\r\n                formData.append('company_logo',companyLogo);\r\n                formData.append('address',address);\r\n\r\n                const response = await fetch(url + 'createCompany',{\r\n                    method : 'POST',\r\n                    headers : {\r\n                        'Authorization' : user?.token\r\n                    },\r\n                    body : formData\r\n                })\r\n\r\n                if (response.ok === true){\r\n                    const data = await response.json();\r\n\r\n                    if (data.status === 200){\r\n                        return window.location = window.location.origin + '/#/companyList'\r\n                    }else{\r\n                        toast.error(data.message);\r\n                    }\r\n                }\r\n            }else{\r\n                toast.error('Select the dropdown first')\r\n            }\r\n        }\r\n\r\n        submitData();\r\n    }\r\n\r\n    return(\r\n        <section>\r\n            <ToastContainer />\r\n            <form onSubmit={(e)=>handleSubmit(e)}>\r\n            <div className='row'>\r\n                <div className='col-md-4'>\r\n                    <div className='form-group'>\r\n                        <label>Firm Name</label>\r\n                        <input value={name} onChange={e=>setName(e.target.value)} required type='text' className='form-control' />\r\n                    </div>\r\n                </div>\r\n                <div className='col-md-4'>\r\n                    <div className='form-group'>\r\n                        <label>Firm Email</label>\r\n                        <input value={email} onChange={e=>setEmail(e.target.value)} required type='email' className='form-control' />\r\n                    </div>\r\n                </div>\r\n                <div className='col-md-4'>\r\n                    <div className='form-group'>\r\n                        <label>Mobile Number</label>\r\n                        <input value={number} onChange={e=>setNumber(e.target.value)} required type='text' className='form-control' />\r\n                    </div>\r\n                </div>\r\n                <div className='col-md-4'>\r\n                    <div className='form-group'>\r\n                        <label>Select Country</label>\r\n                        <Select options={allCountries} value={currentCountry} onChange={setCountryValue}  />\r\n                    </div>\r\n                </div>\r\n                <div className='col-md-4'>\r\n                    <div className='form-group'>\r\n                        <label>Select State</label>\r\n                        <Select options={filterStates} value={currentState} onChange={setStateValue} />\r\n                    </div>\r\n                </div>\r\n                <div className='col-md-4'>\r\n                    <div className='form-group'>\r\n                        <label>Select City</label>\r\n                        <Select options={filterCities} value={currentCity} onChange={setCityValue} />\r\n                    </div>\r\n                </div>\r\n                <div className='col-md-4'>\r\n                    <div className='form-group'>\r\n                        <label>Pincode</label>\r\n                        <input value={pincode} onChange={e=>setPinCode(e.target.value)} required type='text' className='form-control' />\r\n                    </div>\r\n                </div>\r\n                <div className='col-md-4'>\r\n                    <div className='form-group'>\r\n                        <label>Tax Number</label>\r\n                        <input value={taxNumber} onChange={e=>setTaxNumber(e.target.value)} type='text' className='form-control' />\r\n                    </div>\r\n                </div>\r\n                <div className='col-md-4'>\r\n                    <div className='form-group'>\r\n                        <label>Business Type</label>\r\n                        <Select options={allBusinessTypes} value={currentBusiness} onChange={setCurrentBusiness}  />\r\n                    </div>\r\n                </div>\r\n                <div className='col-md-4'>\r\n                    <div className='form-group'>\r\n                        <label>Website</label>\r\n                        <input value={website} onChange={e=>setWebsite(e.target.value)} type='text' className='form-control' />\r\n                    </div>\r\n                </div>\r\n                <div className='col-md-4'>\r\n                    <div className='form-group'>\r\n                        <label>Demo Account</label>\r\n                        <input value={isDemo} onChange={e=>setIsDemo(!isDemo)} type='checkbox' />\r\n                    </div>\r\n                </div>\r\n                <div className='col-md-4'>\r\n                    <div className='form-group'>\r\n                        <label>Demo Expired</label>\r\n                        <input value={expiredDate} onChange={e=>setExpiredDate(e.target.value)} type='date' className='form-control' />\r\n                    </div>\r\n                </div>\r\n                <div className='col-md-4'>\r\n                    <div className='form-group'>\r\n                        <label>Show Logo On Bill</label>\r\n                        <input value={showLogo} onChange={()=>setShowLogo(!showLogo)} type='checkbox' />\r\n                    </div>\r\n                </div>\r\n                <div className='col-md-4'>\r\n                    <div className='form-group'>\r\n                        <label>Company Logo</label>\r\n                        <input type='file' onChange={e=>changeImage(e.target.files)} />\r\n                    </div>\r\n                    {previewImage && <div>\r\n                            <img src={previewImage} alt='company logo' />\r\n                        </div>}\r\n                </div>\r\n            </div>\r\n            <div className='row'>\r\n                <label>Address</label>\r\n                <textarea value={address} onChange={e=>setAddress(e.target.value)} rows='8' cols='125' className='form-control' />\r\n            </div>\r\n\r\n            <button type='submit' className='btn btn-primary my-4'>Submit</button>\r\n            </form>\r\n        </section>\r\n    )\r\n}"],"sourceRoot":""}