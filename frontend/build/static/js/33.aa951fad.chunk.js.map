{"version":3,"sources":["components/CustomModal.js","screens/Products/index.js"],"names":["CustomModal","props","modal","setModal","deleteEntry","className","show","onClose","closeButton","onClick","color","getBadge","status","Index","React","useContext","userContext","user","setLoad","useState","productList","setProductList","id","setId","useEffect","a","fetch","url","method","headers","token","response","ok","json","data","product_list","map","item","index","product_name","category_name","type","price","fetchData","toast","error","message","deleteData","to","xs","lg","items","fields","columnFilter","tableFilter","itemsPerPageSelect","itemsPerPage","hover","sorter","pagination","scopedSlots","status_id","product_id","class","aria-hidden","style","cursor","value"],"mappings":"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","file":"static/js/33.aa951fad.chunk.js","sourcesContent":["import { CButton, CModal, CModalBody, CModalFooter, CModalHeader } from '@coreui/react'\r\nimport React from 'react'\r\n\r\n\r\nexport default function CustomModal(props) {\r\n    const { modal, setModal, deleteEntry } = props;\r\n\r\n    return (\r\n        <div className='delete_modal_box'>\r\n            <CModal\r\n                show={modal}\r\n                onClose={setModal}\r\n            >\r\n                <CModalHeader closeButton>\r\n                </CModalHeader>\r\n                <CModalBody className='delete_modal_body'>\r\n                    <p> Are you sure you want to delete this record ?</p>\r\n                    <div className='btn-div-modal-group delete_modal_Btns'>\r\n                        <button onClick={() => deleteEntry()} className='delete_modal_yes_Btn'>Yes, Approve</button>\r\n                        <button className='btn btn-primary delete_modal_cancel_Btn' color=\"secondary\" onClick={() => setModal(false)}>Cancel</button>\r\n                    </div>\r\n                </CModalBody>\r\n            </CModal>\r\n        </div>\r\n    )\r\n}\r\n","import { CBadge, CCard, CCardBody, CCol, CDataTable } from '@coreui/react';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { url } from 'src/helpers/helpers';\r\nimport {toast,ToastContainer} from 'react-toastify'\r\nimport {userContext} from '../../context/UserContext'\r\nimport CustomModal from 'src/components/CustomModal';\r\n\r\n\r\nconst getBadge = status => {\r\n    switch (status) {\r\n      case '1': return 'success'\r\n      case '2': return 'secondary'\r\n      // case 'Pending': return 'warning'\r\n      // case 'Banned': return 'danger'\r\n      default: return 'primary'\r\n    }\r\n  }\r\n\r\nexport default function Index(){\r\n    const {user,setLoad} = React.useContext(userContext);\r\n    const fields = ['#','product_name','product_category','type','price','action'];\r\n    const [productList,setProductList] = React.useState([]);\r\n    const [id,setId] = React.useState(null);\r\n    const [modal,setModal] = React.useState(false)\r\n\r\n    React.useEffect(()=>{\r\n      setLoad(true)\r\n      async function fetchData(){\r\n        const response = await fetch(url + 'productlist',{\r\n          method : 'GET',\r\n          headers : {\r\n            'Authorization' : user?.token\r\n          }\r\n        })\r\n\r\n        if (response.ok === true){\r\n          const data = await response.json();\r\n\r\n          if (data.status === 200){\r\n            setLoad(false)\r\n            // deleteProduct\r\n            setProductList(data.product_list.map((item,index)=>{\r\n              return {\r\n                '#' : index +1,\r\n                'product_name' : item.product_name,\r\n                'product_category' : item.category_name,\r\n                'type' : item.type,\r\n                'product_id' : item.id,\r\n                'price' : item.price\r\n              }\r\n            }));\r\n          }\r\n        }\r\n      }\r\n      fetchData();\r\n    },[])\r\n\r\n    const deleteEntry = () => {\r\n      setLoad(true)\r\n      async function deleteData(){\r\n        const response = await fetch(url + 'deleteproduct/' + id,{\r\n          method : 'GET',\r\n          headers : {\r\n            'Authorization' : user?.token\r\n          }\r\n        })\r\n\r\n        const data = await response.json();\r\n\r\n        if (data.status === 200){\r\n          setModal(false);\r\n          setId('');\r\n          async function fetchData(){\r\n            const response = await fetch(url + 'productlist',{\r\n              method : 'GET',\r\n              headers : {\r\n                'Authorization' : user?.token\r\n              }\r\n            })\r\n    \r\n            if (response.ok === true){\r\n              const data = await response.json();\r\n    \r\n              if (data.status === 200){\r\n                setLoad(false)\r\n                // deleteProduct\r\n                setProductList(data.product_list.map((item,index)=>{\r\n                  return {\r\n                    '#' : index +1,\r\n                    'product_name' : item.product_name,\r\n                    'product_category' : item.category_name,\r\n                    'type' : item.type,\r\n                    'product_id' : item.id\r\n                  }\r\n                }));\r\n              }\r\n            }\r\n          }\r\n          fetchData();\r\n          \r\n        }else{\r\n          setLoad(false)\r\n          toast.error(data.message)\r\n        }\r\n      }\r\n      deleteData();\r\n    }\r\n\r\n    const showModal = value => {\r\n      setId(value);\r\n      setModal(true)\r\n    }\r\n\r\n    return(\r\n        <section>\r\n          <ToastContainer />\r\n          <CustomModal modal={modal} setModal={setModal} deleteEntry={deleteEntry} />\r\n            <Link to='/create/products'>Create Product</Link>\r\n            <CCol xs=\"12\" lg=\"12\">\r\n          <CCard>\r\n            <CCardBody>\r\n            <CDataTable\r\n              items={productList}\r\n              fields={fields}\r\n              columnFilter\r\n              tableFilter\r\n              itemsPerPageSelect\r\n              itemsPerPage={5}\r\n              hover\r\n              sorter\r\n              pagination\r\n              scopedSlots = {{\r\n                'status':\r\n                  (item)=>(\r\n                    <td>\r\n                      <CBadge color={getBadge(item.status_id)}>\r\n                        {item.status_id === 1 ? 'Active' : 'Inactive'}\r\n                      </CBadge>\r\n                    </td>\r\n                  ),\r\n                'action': (item)=>(\r\n                  <td>\r\n                    <Link to={`/edit/products/${item.product_id}`}><i class=\"fa fa-pencil\" aria-hidden=\"true\"></i></Link>\r\n                    <i style={{cursor:\"pointer\"}} onClick={()=>showModal(item.product_id)} class=\"fa fa-trash\" aria-hidden=\"true\"></i>\r\n                  </td>\r\n                )\r\n\r\n              }\r\n            }\r\n            />\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n        </section>\r\n    )\r\n}"],"sourceRoot":""}