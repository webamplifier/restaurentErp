(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[80],{750:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return p}));var n=r(63),s=r.n(n),a=r(112),c=r(48),o=r(1),l=r.n(o),i=r(113),u=r(83),d=r(20),b=r(626),m=r(11);function p(){var e=Object(d.i)().id,t=l.a.useContext(u.b),r=t.user,n=t.setLoad,o=l.a.useState([]),p=Object(c.a)(o,2),j=p[0],f=p[1],h=l.a.useState(""),x=Object(c.a)(h,2),v=x[0],O=x[1],g=l.a.useState(""),w=Object(c.a)(g,2),y=w[0],k=w[1],S=l.a.useState(""),C=Object(c.a)(S,2),N=C[0],q=C[1],F=l.a.useState(""),P=Object(c.a)(F,2),_=P[0],z=P[1];l.a.useEffect((function(){function t(){return(t=Object(a.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(i.d+"rolelist",{method:"GET",headers:{Authorization:r.token}});case 2:if(!0!==(t=e.sent).ok){e.next=11;break}return e.next=6,t.json();case 6:a=e.sent,n(!1),200===a.status?f(null===a||void 0===a?void 0:a.roles_list):b.b.error(a.message),e.next=12;break;case 11:b.b.error("Oops something went wrong!");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=Object(a.a)(s.a.mark((function t(){var a,c,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(!0),t.next=3,fetch(i.d+"userById/"+e,{headers:{Authorization:null===r||void 0===r?void 0:r.token}});case 3:if(!0!==(a=t.sent).ok){t.next=12;break}return t.next=7,a.json();case 7:c=t.sent,n(!1),200==c.status?(o=null===c||void 0===c?void 0:c.user_detail,k(null===o||void 0===o?void 0:o.username),q(null===o||void 0===o?void 0:o.email),O(null===o||void 0===o?void 0:o.role_id)):b.b.error(c.message),t.next=13;break;case 12:b.b.error("Oops something went wrong!");case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n(!0),function(){return t.apply(this,arguments)}().catch((function(e){return b.b.error("Internal server error!")})),function(){return c.apply(this,arguments)}().catch((function(e){return b.b.error("Internal server error")}))}),[]);return Object(m.jsxs)("div",{className:"container create-page-main-section",children:[Object(m.jsx)(b.a,{}),Object(m.jsxs)("form",{onSubmit:function(t){return function(t){n(!0),t.preventDefault();var c=new FormData;function o(){return(o=Object(a.a)(s.a.mark((function t(){var a,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(i.d+"updateuser/"+e,{method:"POST",headers:{Authorization:null===r||void 0===r?void 0:r.token},body:c});case 2:if(!0!==(a=t.sent).ok){t.next=13;break}return t.next=6,a.json();case 6:if(o=t.sent,n(!1),200!==o.status){t.next=12;break}return t.abrupt("return",window.location=window.location.origin+"/#/userList");case 12:b.b.error(o.message);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}c.append("name",y),c.append("email",N),c.append("password",_),c.append("role_id",v),function(){o.apply(this,arguments)}()}(t)},children:[Object(m.jsxs)("div",{className:"p-sm-5 create-form-field",children:[Object(m.jsxs)("div",{class:"form-group row",children:[Object(m.jsxs)("label",{class:"col-sm-2 col-form-label",for:"exampleFormControlSelect1",children:["Username:",Object(m.jsx)("span",{className:"required-label",children:"*"})]}),Object(m.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(m.jsx)("input",{type:"text",value:y,onChange:function(e){return k(e.target.value)},className:"form-control"})})]}),Object(m.jsxs)("div",{class:"form-group row",children:[Object(m.jsxs)("label",{class:"col-sm-2 col-form-label",for:"exampleFormControlSelect1",children:["Email:",Object(m.jsx)("span",{className:"required-label",children:"*"})]}),Object(m.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(m.jsx)("input",{type:"email",value:N,onChange:function(e){return q(e.target.value)},className:"form-control"})})]}),Object(m.jsxs)("div",{class:"form-group row",children:[Object(m.jsxs)("label",{class:"col-sm-2 col-form-label",for:"exampleFormControlSelect1",children:["Role:",Object(m.jsx)("span",{className:"required-label",children:"*"})]}),Object(m.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(m.jsxs)("select",{className:"form-control",value:v,onChange:function(e){return O(e.target.value)},children:[Object(m.jsx)("option",{value:"",children:"Select Roles"}),j.map((function(e,t){return Object(m.jsx)("option",{value:e.id,children:e.name},t)}))]})})]}),Object(m.jsxs)("div",{class:"form-group row",children:[Object(m.jsxs)("label",{for:"inputPassword",class:"col-sm-2 col-form-label",children:["Password:",Object(m.jsx)("span",{className:"required-label",children:"*"})]}),Object(m.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(m.jsx)("input",{value:_,onChange:function(e){return z(e.target.value)},type:"password",class:"form-control",id:"inputPassword"})})]})]}),Object(m.jsxs)("div",{class:"d-flex justify-content-center create-catagory-btns",children:[Object(m.jsxs)("button",{type:"submit",class:"font-weight-bold m-3 py-2 px-4 btn btn-danger",children:["Cancel",Object(m.jsx)("i",{class:"px-2 fa fa-times","aria-hidden":"true"})]}),Object(m.jsxs)("button",{type:"submit",class:"font-weight-bold m-3 py-2 px-4 btn btn-success",children:["Save",Object(m.jsx)("i",{class:"px-2 fa fa-floppy-o","aria-hidden":"true"})]})]})]})]})}}}]);
//# sourceMappingURL=80.1cc42ae1.chunk.js.map