(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[79],{748:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return j}));var r=s(63),a=s.n(r),n=s(112),c=s(48),l=s(1),o=s.n(l),i=s(113),u=s(83),d=s(626),b=s(11);function j(){var e=o.a.useContext(u.b),t=e.user,s=e.setLoad,r=o.a.useState([]),l=Object(c.a)(r,2),j=l[0],m=l[1],p=o.a.useState(""),f=Object(c.a)(p,2),x=f[0],h=f[1],O=o.a.useState(""),v=Object(c.a)(O,2),g=v[0],w=v[1],y=o.a.useState(""),k=Object(c.a)(y,2),S=k[0],C=k[1],N=o.a.useState(""),q=Object(c.a)(N,2),F=q[0],P=q[1];o.a.useEffect((function(){function e(){return(e=Object(n.a)(a.a.mark((function e(){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(i.d+"rolelist",{method:"GET",headers:{Authorization:t.token}});case 2:if(!0!==(r=e.sent).ok){e.next=11;break}return e.next=6,r.json();case 6:n=e.sent,s(!1),200===n.status?m(null===n||void 0===n?void 0:n.roles_list):d.b.error(n.message),e.next=12;break;case 11:d.b.error("Oops something went wrong!");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s(!0),function(){return e.apply(this,arguments)}().catch((function(e){return d.b.error("Internal server error!")}))}),[]);return Object(b.jsxs)("div",{className:"container create-page-main-section",children:[Object(b.jsx)(d.a,{}),Object(b.jsxs)("form",{onSubmit:function(e){return function(e){s(!0),e.preventDefault();var r=new FormData;function c(){return(c=Object(n.a)(a.a.mark((function e(){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(i.d+"createuser",{method:"POST",headers:{Authorization:null===t||void 0===t?void 0:t.token},body:r});case 2:if(!0!==(n=e.sent).ok){e.next=13;break}return e.next=6,n.json();case 6:if(c=e.sent,s(!1),200!==c.status){e.next=12;break}return e.abrupt("return",window.location=window.location.origin+"/#/userList");case 12:d.b.error(c.message);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.append("name",g),r.append("email",S),r.append("password",F),r.append("role_id",x),function(){c.apply(this,arguments)}()}(e)},children:[Object(b.jsxs)("div",{className:"p-sm-5 create-form-field",children:[Object(b.jsxs)("div",{class:"form-group row",children:[Object(b.jsxs)("label",{class:"col-sm-2 col-form-label",for:"exampleFormControlSelect1",children:["Username:",Object(b.jsx)("span",{className:"required-label",children:"*"})]}),Object(b.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(b.jsx)("input",{type:"text",value:g,onChange:function(e){return w(e.target.value)},className:"form-control"})})]}),Object(b.jsxs)("div",{class:"form-group row",children:[Object(b.jsxs)("label",{class:"col-sm-2 col-form-label",for:"exampleFormControlSelect1",children:["Email:",Object(b.jsx)("span",{className:"required-label",children:"*"})]}),Object(b.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(b.jsx)("input",{type:"email",value:S,onChange:function(e){return C(e.target.value)},className:"form-control"})})]}),Object(b.jsxs)("div",{class:"form-group row",children:[Object(b.jsxs)("label",{class:"col-sm-2 col-form-label",for:"exampleFormControlSelect1",children:["Role:",Object(b.jsx)("span",{className:"required-label",children:"*"})]}),Object(b.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(b.jsxs)("select",{className:"form-control",value:x,onChange:function(e){return h(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:"Select Roles"}),j.map((function(e,t){return Object(b.jsx)("option",{value:e.id,children:e.name},t)}))]})})]}),Object(b.jsxs)("div",{class:"form-group row",children:[Object(b.jsxs)("label",{for:"inputPassword",class:"col-sm-2 col-form-label",children:["Password:",Object(b.jsx)("span",{className:"required-label",children:"*"})]}),Object(b.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(b.jsx)("input",{value:F,onChange:function(e){return P(e.target.value)},type:"password",class:"form-control",id:"inputPassword"})})]})]}),Object(b.jsxs)("div",{class:"d-flex justify-content-center create-catagory-btns",children:[Object(b.jsxs)("button",{type:"submit",class:"font-weight-bold m-3 py-2 px-4 btn btn-danger",children:["Cancel",Object(b.jsx)("i",{class:"px-2 fa fa-times","aria-hidden":"true"})]}),Object(b.jsxs)("button",{type:"submit",class:"font-weight-bold m-3 py-2 px-4 btn btn-success",children:["Save",Object(b.jsx)("i",{class:"px-2 fa fa-floppy-o","aria-hidden":"true"})]})]})]})]})}}}]);
//# sourceMappingURL=79.c327cba5.chunk.js.map