(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[74],{728:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return m}));var s=a(63),n=a.n(s),r=a(112),c=a(48),o=a(1),l=a.n(o),i=a(113),u=a(83),d=a(631),p=a(626),b=a(20),j=a(11);function m(){var e=Object(b.i)().id,t=l.a.useContext(u.b),a=t.user,s=t.setLoad,o=l.a.useState([]),m=Object(c.a)(o,2),f=m[0],x=m[1],h=l.a.useState(""),v=Object(c.a)(h,2),O=v[0],g=v[1],y=l.a.useState("product"),w=Object(c.a)(y,2),k=w[0],P=w[1],S=l.a.useState(""),C=Object(c.a)(S,2),N=C[0],_=C[1],q=l.a.useState(""),T=Object(c.a)(q,2),z=T[0],A=T[1],E=l.a.useState(""),F=Object(c.a)(E,2),D=F[0],G=F[1];l.a.useEffect((function(){function t(){return(t=Object(r.a)(n.a.mark((function e(){var t,r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(i.d+"categorylist",{method:"GET",headers:{Authorization:a.token}});case 2:if(!0!==(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:200===(r=e.sent).status&&(s(!1),x(null===r||void 0===r||null===(c=r.category_list)||void 0===c?void 0:c.map((function(e){return{value:e.id,label:e.name}}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=Object(r.a)(n.a.mark((function t(){var r,c,o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(i.d+"productById/"+e,{method:"GET",headers:{Authorization:null===a||void 0===a?void 0:a.token}});case 2:if(!0!==(r=t.sent).ok){t.next=8;break}return t.next=6,r.json();case 6:200===(c=t.sent).status?(s(!1),o=c.product_detail,A(o.product_name),G(null===o||void 0===o?void 0:o.price),g({value:o.category_id,label:o.category_name}),P(null===o||void 0===o?void 0:o.type),_(null===o||void 0===o?void 0:o.unique_number)):(s(!1),p.b.error(c.message));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}s(!0),function(){t.apply(this,arguments)}(),function(){c.apply(this,arguments)}()}),[]);return Object(j.jsxs)("div",{className:"container create-page-main-section",children:[Object(j.jsx)(p.a,{}),Object(j.jsxs)("form",{onSubmit:function(t){return function(t){s(!0),t.preventDefault();var c=new FormData;function o(){return(o=Object(r.a)(n.a.mark((function t(){var r,o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(i.d+"updateproduct/"+e,{method:"POST",headers:{Authorization:null===a||void 0===a?void 0:a.token},body:c});case 2:if(!0!==(r=t.sent).ok){t.next=14;break}return t.next=6,r.json();case 6:if(200!==(o=t.sent).status){t.next=12;break}return s(!1),t.abrupt("return",window.location=window.location.origin+"/#/products");case 12:s(!1),p.b.error(o.message);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}c.append("category_id",O.value),c.append("category_name",O.label),c.append("type",k),c.append("product_name",z),c.append("unique_number",N),c.append("price",D),function(){o.apply(this,arguments)}()}(t)},children:[Object(j.jsxs)("div",{className:"p-sm-5 create-form-field",children:[Object(j.jsxs)("div",{class:"form-group row",children:[Object(j.jsxs)("label",{class:"col-sm-2 col-form-label",for:"exampleFormControlSelect1",children:["Product Catagory:",Object(j.jsx)("span",{className:"required-label",children:"*"})]}),Object(j.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(j.jsx)(d.a,{className:"form-control",options:f,value:O,onChange:g})})]}),Object(j.jsxs)("div",{class:"form-group row",children:[Object(j.jsxs)("label",{class:"col-sm-2 col-form-label",for:"exampleFormControlSelect1",children:["Type:",Object(j.jsx)("span",{className:"required-label",children:"*"})]}),Object(j.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(j.jsxs)("select",{className:"form-control",value:k,onChange:function(e){return P(e.target.value)},children:[Object(j.jsx)("option",{value:"product",children:"Product"}),Object(j.jsx)("option",{value:"service",children:"Service"})]})})]}),Object(j.jsxs)("div",{class:"form-group row",children:[Object(j.jsxs)("label",{for:"inputPassword",class:"col-sm-2 col-form-label",children:["Product Name:",Object(j.jsx)("span",{className:"required-label",children:"*"})]}),Object(j.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(j.jsx)("input",{value:z,onChange:function(e){return A(e.target.value)},type:"text",class:"form-control",id:"inputPassword"})})]}),Object(j.jsxs)("div",{class:"form-group row",children:[Object(j.jsxs)("label",{for:"inputPassword",class:"col-sm-2 col-form-label",children:["Product Price:",Object(j.jsx)("span",{className:"required-label",children:"*"})]}),Object(j.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(j.jsx)("input",{value:D,onChange:function(e){return G(e.target.value)},type:"text",class:"form-control",id:"inputPassword"})})]}),Object(j.jsxs)("div",{class:"form-group row",children:[Object(j.jsx)("label",{for:"inputPassword",class:"col-sm-2 col-form-label",children:"Unique Number:"}),Object(j.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(j.jsx)("input",{value:N,onChange:function(e){return _(e.target.value)},type:"text",class:"form-control",id:"inputPassword"})})]})]}),Object(j.jsxs)("div",{class:"d-flex justify-content-center create-catagory-btns",children:[Object(j.jsxs)("button",{type:"submit",class:"font-weight-bold m-3 py-2 px-4 btn btn-danger",children:["Cancel",Object(j.jsx)("i",{class:"px-2 fa fa-times","aria-hidden":"true"})]}),Object(j.jsxs)("button",{type:"submit",class:"font-weight-bold m-3 py-2 px-4 btn btn-success",children:["Save",Object(j.jsx)("i",{class:"px-2 fa fa-floppy-o","aria-hidden":"true"})]})]})]})]})}}}]);
//# sourceMappingURL=74.da9f76f5.chunk.js.map