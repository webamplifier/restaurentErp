{"version":3,"sources":["screens/companies/CompanyList.js"],"names":["getBadge","status","CompanyList","user","React","useContext","userContext","useState","companiesList","setCompaniesList","useEffect","a","fetch","url","method","headers","token","response","ok","json","data","console","log","companies_data","toast","error","message","fetchList","to","xs","lg","items","fields","columnFilter","tableFilter","itemsPerPageSelect","itemsPerPage","hover","sorter","pagination","scopedSlots","item","color","status_id","class","aria-hidden"],"mappings":"sUASMA,EAAW,SAAAC,GACb,OAAQA,GACN,IAAK,IAAK,MAAO,UACjB,IAAK,IAAK,MAAO,YAGjB,QAAS,MAAO,YAIP,SAASC,IAAc,IAC3BC,EAAQC,IAAMC,WAAWC,KAAzBH,KAD0B,EAGQC,IAAMG,SAAS,IAHvB,mBAG1BC,EAH0B,KAGZC,EAHY,KA4BjC,OAvBAL,IAAMM,WAAU,WAAI,4CAClB,8BAAAC,EAAA,sEACyBC,MAAMC,IAAM,gBAAgB,CACjDC,OAAS,MACTC,QAAU,CACR,qBAAkBZ,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAMa,SAJ9B,WAQsB,KAPdC,EADR,QAQeC,GARf,gCASuBD,EAASE,OAThC,OAWwB,OAFdC,EATV,QAWanB,QACPoB,QAAQC,IAAIF,EAAKG,gBACjBd,EAAiBW,EAAKG,iBAEtBC,IAAMC,MAAML,EAAKM,SAfvB,4CADkB,uBAAC,WAAD,wBAoBlBC,KACA,IAGE,oCACE,cAAC,IAAD,IACE,cAAC,IAAD,CAAMC,GAAG,kBAAT,4BACA,cAAC,IAAD,CAAMC,GAAG,KAAKC,GAAG,KAAjB,SACF,cAAC,IAAD,UACE,cAAC,IAAD,UACA,cAAC,IAAD,CACEC,MAAOvB,EACPwB,OAnCK,CAAC,IAAI,YAAY,QAAQ,gBAAgB,SAAS,UAoCvDC,cAAY,EACZC,aAAW,EACXC,oBAAkB,EAClBC,aAAc,EACdC,OAAK,EACLC,QAAM,EACNC,YAAU,EACVC,YAAe,CACb,OACE,SAACC,GAAD,OACE,6BACE,cAAC,IAAD,CAAQC,MAAO1C,EAASyC,EAAKE,WAA7B,SACsB,IAAnBF,EAAKE,UAAkB,SAAW,gBAI3C,OAAU,SAACF,GAAD,OACR,+BACE,mBAAGG,MAAM,eAAeC,cAAY,SACpC,mBAAGD,MAAM,cAAcC,cAAY","file":"static/js/83.ca0181e5.chunk.js","sourcesContent":["\r\nimport { CBadge, CCard, CCardBody, CCol, CDataTable } from '@coreui/react';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { url } from 'src/helpers/helpers';\r\nimport {toast,ToastContainer} from 'react-toastify'\r\nimport {userContext} from '../../context/UserContext'\r\n\r\n\r\nconst getBadge = status => {\r\n    switch (status) {\r\n      case '1': return 'success'\r\n      case '2': return 'secondary'\r\n      // case 'Pending': return 'warning'\r\n      // case 'Banned': return 'danger'\r\n      default: return 'primary'\r\n    }\r\n  }\r\n\r\nexport default function CompanyList(){\r\n    const {user} = React.useContext(userContext);\r\n    const fields = ['#','firm_name','email','mobile_number','status','action'];\r\n    const [companiesList,setCompaniesList] = React.useState([]);\r\n\r\n    React.useEffect(()=>{\r\n      async function fetchList(){\r\n        const response = await fetch(url + 'companiesList',{\r\n          method : 'GET',\r\n          headers : {\r\n            'Authorization' : user?.token\r\n          }\r\n        });\r\n\r\n        if (response.ok === true){\r\n          const data = await response.json();\r\n\r\n          if (data.status === 200){\r\n            console.log(data.companies_data)\r\n            setCompaniesList(data.companies_data)\r\n          }else{\r\n            toast.error(data.message)\r\n          }\r\n        }\r\n      }\r\n      fetchList()\r\n    },[])\r\n\r\n    return(\r\n        <section>\r\n          <ToastContainer />\r\n            <Link to='/create/company'>Create Company</Link>\r\n            <CCol xs=\"12\" lg=\"12\">\r\n          <CCard>\r\n            <CCardBody>\r\n            <CDataTable\r\n              items={companiesList}\r\n              fields={fields}\r\n              columnFilter\r\n              tableFilter\r\n              itemsPerPageSelect\r\n              itemsPerPage={5}\r\n              hover\r\n              sorter\r\n              pagination\r\n              scopedSlots = {{\r\n                'status':\r\n                  (item)=>(\r\n                    <td>\r\n                      <CBadge color={getBadge(item.status_id)}>\r\n                        {item.status_id === 1 ? 'Active' : 'Inactive'}\r\n                      </CBadge>\r\n                    </td>\r\n                  ),\r\n                'action': (item)=>(\r\n                  <td>\r\n                    <i class=\"fa fa-pencil\" aria-hidden=\"true\"></i>\r\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\r\n                  </td>\r\n                )\r\n\r\n              }\r\n            }\r\n            />\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n        </section>\r\n    )\r\n}"],"sourceRoot":""}